 <!DOCTYPE html> <html> <head><link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootswatch/3.2.0/readable/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="https://cdn.rawgit.com/hammerlab/ketrew/2d1c430cca52caa71e363a765ff8775a6ae14ba9/src/doc/code_style.css" type="text/css"><meta charset="utf-8"><title>Sosa: Home</title></head><body><div class="container"><h1>Sosa: Home</h1><div class="row">
<div class="col-md-3">
<h2>Contents</h2><ul><li><a href='#ModuleTypesAPIs'>Module Types (APIs)</a>
</li><li><a href='#Implementations'>Implementations</a>
<ul><li><a href='#NativeOCamlCharacters'>Native OCaml Characters</a>
</li><li><a href='#NativeOCamlStrings'>Native OCaml Strings</a>
</li><li><a href='#NativeMutableOCamlStringsBytes'>Native Mutable OCaml Strings (Bytes)</a>
</li><li><a href='#ListsOfArbitraryCharacters'>Lists Of Arbitrary Characters</a>
</li><li><a href='#BuildFromBasicMutableDatastructures'>Build From Basic Mutable Data-structures</a>
</li><li><a href='#IntegerUTF8Characters'>Integer UTF-8 Characters</a>
</li></ul>
</li><li><a href='#ExamplesTestsandBenchmarks'>Examples, Tests, and Benchmarks</a>
</li></ul><h2>Menu</h2><ul><li><a href='index.html'>Home</a></li><li><a href='main.html'>Tests &amp; Benchmarks (<code>src/test/main.ml</code>)</a></li><li><a href='INSTALL.html'>Build instructions</a></li><li><a href='./api/index.html'>API Documentation</a></li><li>Documentation for <a href='./doc.0.0.1/index.html'>version 0.0.1</a></li><li>Documentation for <a href='./doc.0.1.0/index.html'>version 0.1.0</a></li><li>Documentation for <a href='./doc.0.2.0/index.html'>version 0.2.0</a></li><li>Repository <a href='https://github.com/hammerlab/sosa'>at Github</a></li><li>Up: <a href='../index.html'>Software Projects</a></li></ul></div><div class="col-md-9"><h1 id="SaneOCamlStringAPI">Sane OCaml String API</h1>

<p>This library is a set of APIs defined with module types, and a set of
modules and functors implementing one or more of those interfaces.</p>
<p>The APIs define what a <em>character</em> and a <em>string of characters</em> should
be.</p>
<p>This is the development branch of the library, the latest released version is 
<a href='http://seb.mondet.org/software/sosa/doc.0.0.1/'>0.0.1</a>.</p>
<p>See the <a href='./INSTALL.html'>INSTALL</a> file for build instructions.</p>
<p>The library is “packed” in the <a href='api/Sosa.html' title='Sosa'><code>Sosa</code></a> toplevel module name.</p>
<h2 id="ModuleTypesAPIs">Module Types (APIs)</h2>

<p>We have, in the sub-module <a href='api/Api.html' title='Api'><code>Api</code></a>:</p>
<ul><li><a href='api/Api.BASIC_CHARACTER.html' title='BASIC_CHARACTER'><code>BASIC_CHARACTER</code></a>: characters of any length.</li><li><a href='api/Api.NATIVE_CONVERSIONS.html' title='NATIVE_CONVERSIONS'><code>NATIVE_CONVERSIONS</code></a>: functions to transform from/to native OCaml
 strings.</li><li><a href='api/Api.BASIC_STRING.html' title='BASIC_STRING'><code>BASIC_STRING</code></a>: immutable strings of (potentially abstract)
 characters:<ul><li>includes <a href='api/Api.NATIVE_CONVERSIONS.html' title='NATIVE_CONVERSIONS'><code>NATIVE_CONVERSIONS</code></a>,</li><li>contains a functor to provide a thread agnostic <code>output</code> function:
 <a href='api/Api.BASIC_STRING.Make_output.html' title='Make_output'><code>Make_output</code></a>: <a href='api/Api.OUTPUT_MODEL.html' title='OUTPUT_MODEL'><code>OUTPUT_MODEL</code></a> → <code>sig val output: ... end</code>.</li></ul></li><li><a href='api/Api.UNSAFELY_MUTABLE.html' title='UNSAFELY_MUTABLE'><code>UNSAFELY_MUTABLE</code></a>: mutability of some string implementations
 (“unsafe” meaning that they break immutability
 invariants/assumptions).</li><li><a href='api/Api.MINIMALISTIC_MUTABLE_STRING.html' title='MINIMALISTIC_MUTABLE_STRING'><code>MINIMALISTIC_MUTABLE_STRING</code></a>: abstract mutable string used as
 argument of the <code>Of_mutable</code> functor.</li></ul>

<h2 id="Implementations">Implementations</h2>

<h3 id="NativeOCamlCharacters">Native OCaml Characters</h3>

<p>The <code>Native_character</code> module implements <a href='api/Api.BASIC_CHARACTER.html' title='BASIC_CHARACTER'><code>BASIC_CHARACTER</code></a> with
OCaml&#39;s <code>char</code> type.</p>
<h3 id="NativeOCamlStrings">Native OCaml Strings</h3>

<p>The <code>Native_string</code> module implements <a href='api/Api.BASIC_STRING.html' title='BASIC_STRING'><code>BASIC_STRING</code></a> with OCaml&#39;s <code>string</code> type
considered immutable (and hence <code>Native_character</code>).</p>
<h3 id="NativeMutableOCamlStringsBytes">Native Mutable OCaml Strings (Bytes)</h3>

<p>The <code>Native_bytes</code> module implements <a href='api/Api.BASIC_STRING.html' title='BASIC_STRING'><code>BASIC_STRING</code></a>
and <a href='api/Api.UNSAFELY_MUTABLE.html' title='UNSAFELY_MUTABLE'><code>UNSAFELY_MUTABLE</code></a> with OCaml&#39;s <code>bytes</code> type.</p>
<h3 id="ListsOfArbitraryCharacters">Lists Of Arbitrary Characters</h3>

<p><code>List_of</code> is a functor: <a href='api/Api.BASIC_CHARACTER.html' title='BASIC_CHARACTER'><code>BASIC_CHARACTER</code></a> → <a href='api/Api.BASIC_STRING.html' title='BASIC_STRING'><code>BASIC_STRING</code></a>, i.e., it creates a
string datastructure made of a list of characters.</p>
<h3 id="BuildFromBasicMutableDatastructures">Build From Basic Mutable Data-structures</h3>

<p>The functor <code>Of_mutable</code> uses an implementation of
<a href='api/Api.MINIMALISTIC_MUTABLE_STRING.html' title='MINIMALISTIC_MUTABLE_STRING'><code>MINIMALISTIC_MUTABLE_STRING</code></a> to build a <a href='api/Api.BASIC_STRING.html' title='BASIC_STRING'><code>BASIC_STRING</code></a>.</p>
<h3 id="IntegerUTF8Characters">Integer UTF-8 Characters</h3>

<p>The <code>Int_utf8_character</code> module implements <a href='api/Api.BASIC_CHARACTER.html' title='BASIC_CHARACTER'><code>BASIC_CHARACTER</code></a> with
OCaml integers (<code>int</code>) representing Utf8 characters (we force the
handling of not more than 31 bits, even if <a href='http://tools.ietf.org/html/rfc3629'>RFC 3629</a>
restricts them to end at U+10FFFF, c.f. also
<a href='http://en.wikipedia.org/wiki/UTF-8'>wikipedia</a>). Note that the function <code>is_whitespace</code> considers
only ASCII whitespace (useful while writing parsers for example).</p>
<h2 id="ExamplesTestsandBenchmarks">Examples, Tests, and Benchmarks</h2>

<p>See the file <a href='main.html'><code>test/main.ml</code></a> for usage examples, the
library is tested with:</p>
<ul><li>native strings and characters,</li><li>lists of native characters (<code>List_of(Native_character)</code>),</li><li>lists of integers representing UTF-8 characters (<code>List_of(utf8-int array)</code>),</li><li>arrays of integers representing UTF-8 characters (<code>Of_mutable(utf8-int array)</code>),</li><li>bigarrays of 8-bit integers (<code>Of_mutable(int8 Bigarray1.t)</code>).</li></ul>

<p>The tests depend on the <a href='https://bitbucket.org/smondet/nonstd'>Nonstd</a>,
<code>unix</code>, and <code>bigarray</code> libraries:</p>
<pre><code>make test
./sosa_tests</code></pre><p>and you may add the basic benchmarks to the process with:</p>
<pre><code>./sosa_tests bench</code></pre></div></div></div></body><html>