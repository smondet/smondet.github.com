<html><head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Docout" rel="Chapter" href="Docout.html"><title>Docout</title>
</head>
<body>
<code class="code"><br>
<span class="keyword">module</span>&nbsp;<span class="constructor">Internal</span>&nbsp;=&nbsp;<span class="keyword">struct</span><br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;(|&gt;)&nbsp;f&nbsp;x&nbsp;=&nbsp;&nbsp;x&nbsp;f<br>
&nbsp;&nbsp;<span class="keyword">module</span>&nbsp;<span class="constructor">String</span>&nbsp;=&nbsp;<span class="keyword">struct</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">include</span>&nbsp;<span class="constructor">StringLabels</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;get_exn&nbsp;=&nbsp;get<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;get&nbsp;s&nbsp;~index&nbsp;=&nbsp;<span class="keyword">try</span>&nbsp;<span class="constructor">Some</span>&nbsp;(get_exn&nbsp;s&nbsp;index)&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">None</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;sub_exn&nbsp;=&nbsp;sub<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;find_index&nbsp;s&nbsp;~char&nbsp;=&nbsp;<span class="keyword">try</span>&nbsp;<span class="constructor">Some</span>&nbsp;(rindex&nbsp;s&nbsp;char)&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">None</span>&nbsp;<br>
&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;<span class="keyword">module</span>&nbsp;<span class="constructor">List</span>&nbsp;=&nbsp;<span class="constructor">ListLabels</span><br>
<br>
<span class="keyword">end</span><br>
<span class="keyword">open</span>&nbsp;<span class="constructor">Internal</span><br>
<span class="keyword">open</span>&nbsp;<span class="constructor">Printf</span><br>
<br>
<span class="keyword">module</span>&nbsp;<span class="constructor">Metadoc</span>&nbsp;=&nbsp;<span class="keyword">struct</span><br>
<br>
&nbsp;&nbsp;<span class="keyword">include</span>&nbsp;<span class="constructor">SmartPrint</span><br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;(%)&nbsp;=&nbsp;(^-^)<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;s&nbsp;str&nbsp;=&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;has_leading_space&nbsp;=&nbsp;<span class="constructor">String</span>.get&nbsp;str&nbsp;~index:0&nbsp;=&nbsp;<span class="constructor">Some</span>&nbsp;<span class="string">'&nbsp;'</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;has_ending_space&nbsp;=&nbsp;<span class="constructor">String</span>.(get&nbsp;str&nbsp;~index:(length&nbsp;str&nbsp;-&nbsp;1))&nbsp;=&nbsp;<span class="constructor">Some</span>&nbsp;<span class="string">'&nbsp;'</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="keyword">if</span>&nbsp;has_leading_space&nbsp;<span class="keyword">then</span>&nbsp;space&nbsp;<span class="keyword">else</span>&nbsp;empty)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;words&nbsp;str&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;(<span class="keyword">if</span>&nbsp;has_ending_space&nbsp;<span class="keyword">then</span>&nbsp;space&nbsp;&nbsp;<span class="keyword">else</span>&nbsp;empty)<br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;sp&nbsp;=&nbsp;space<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;sf&nbsp;fmt&nbsp;=&nbsp;ksprintf&nbsp;s&nbsp;fmt<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;i&nbsp;i&nbsp;=&nbsp;<span class="constructor">OCaml</span>.int&nbsp;i<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;f&nbsp;f&nbsp;=&nbsp;<span class="constructor">OCaml</span>.float&nbsp;f<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;n&nbsp;=&nbsp;newline<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;verbatim&nbsp;s&nbsp;=&nbsp;string&nbsp;s<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exn&nbsp;e&nbsp;=&nbsp;s&nbsp;(<span class="constructor">Printexc</span>.to_string&nbsp;e)<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;option&nbsp;~f&nbsp;=&nbsp;<span class="keyword">function</span><br>
&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Some</span>&nbsp;o&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;f&nbsp;o<br>
&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">None</span>&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;empty<br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;escape&nbsp;c&nbsp;=&nbsp;ksprintf&nbsp;string&nbsp;<span class="string">"\027[%sm"</span>&nbsp;c&nbsp;<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;color&nbsp;c&nbsp;t&nbsp;=&nbsp;escape&nbsp;c&nbsp;%&nbsp;t&nbsp;%&nbsp;escape&nbsp;<span class="string">"0"</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;bold_red&nbsp;t&nbsp;=&nbsp;&nbsp;color&nbsp;<span class="string">"1;31"</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;bold_yellow&nbsp;t&nbsp;=&nbsp;&nbsp;color&nbsp;<span class="string">"1;33"</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;bold_green&nbsp;t&nbsp;=&nbsp;&nbsp;color&nbsp;<span class="string">"1;32"</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;greyish&nbsp;t&nbsp;=&nbsp;color&nbsp;<span class="string">"37"</span>&nbsp;t<br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;to_string&nbsp;~line_width&nbsp;~indent&nbsp;t&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">SmartPrint</span>.to_string&nbsp;line_width&nbsp;indent&nbsp;t<br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;to_list&nbsp;~line_width&nbsp;~indent&nbsp;t&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;res&nbsp;=&nbsp;ref&nbsp;[]&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;add&nbsp;c&nbsp;=&nbsp;res&nbsp;:=&nbsp;c&nbsp;::&nbsp;!res&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">SmartPrint</span>.to_something&nbsp;line_width&nbsp;indent<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="keyword">fun</span>&nbsp;c&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Char</span>&nbsp;c&nbsp;|&gt;&nbsp;add)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="keyword">fun</span>&nbsp;s&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">String</span>&nbsp;s&nbsp;|&gt;&nbsp;add)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="keyword">fun</span>&nbsp;s&nbsp;ofs&nbsp;len&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Sub_string</span>&nbsp;(s,&nbsp;ofs,&nbsp;len)&nbsp;|&gt;&nbsp;add)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">List</span>.rev&nbsp;!res<br>
<br>
<span class="keyword">end</span><br>
<br>
<span class="comment">(*&nbsp;Experimental&nbsp;Markdown&nbsp;printer.&nbsp;*)</span><br>
<span class="keyword">module</span>&nbsp;<span class="constructor">Markdown</span>&nbsp;=&nbsp;<span class="keyword">struct</span><br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;<span class="keyword">include</span>&nbsp;<span class="constructor">Metadoc</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;to_markdown_string&nbsp;?(line_width=72)&nbsp;sm&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;to_string&nbsp;~line_width&nbsp;~indent:4&nbsp;sm&nbsp;<br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;new_par&nbsp;=&nbsp;n&nbsp;%&nbsp;n<br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;h&nbsp;underliner&nbsp;t&nbsp;=&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;title&nbsp;=&nbsp;to_markdown_string&nbsp;t&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;l&nbsp;=&nbsp;<span class="constructor">String</span>.length&nbsp;title&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;underline&nbsp;=&nbsp;<span class="constructor">String</span>.make&nbsp;l&nbsp;underliner&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;verbatim&nbsp;title&nbsp;%&nbsp;n&nbsp;%&nbsp;verbatim&nbsp;underline&nbsp;%&nbsp;new_par<br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;h1&nbsp;t&nbsp;=&nbsp;h&nbsp;<span class="string">'='</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;h2&nbsp;t&nbsp;=&nbsp;h&nbsp;<span class="string">'-'</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;par&nbsp;t&nbsp;=&nbsp;t&nbsp;%&nbsp;new_par<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;emph&nbsp;t&nbsp;=&nbsp;s&nbsp;<span class="string">"*"</span>&nbsp;%&nbsp;t&nbsp;%&nbsp;s&nbsp;<span class="string">"*"</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;ul_filter&nbsp;l&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;concat&nbsp;(<span class="constructor">List</span>.filter&nbsp;l&nbsp;~f:(<span class="keyword">fun</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;&lt;&gt;&nbsp;empty)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;&nbsp;<span class="constructor">List</span>.map&nbsp;~f:(<span class="keyword">fun</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;s&nbsp;<span class="string">"-&nbsp;"</span>&nbsp;%&nbsp;t&nbsp;%&nbsp;n))<br>
&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;n<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;ul_inner&nbsp;l&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;indent&nbsp;(separate&nbsp;n&nbsp;(<span class="constructor">List</span>.map&nbsp;l&nbsp;~f:(<span class="keyword">fun</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;s&nbsp;<span class="string">"-&nbsp;"</span>&nbsp;%&nbsp;t)))<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;url&nbsp;u&nbsp;=&nbsp;s&nbsp;<span class="string">"&lt;"</span>&nbsp;%&nbsp;verbatim&nbsp;u&nbsp;%&nbsp;s&nbsp;<span class="string">"&gt;"</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;link&nbsp;t&nbsp;~url&nbsp;=&nbsp;brakets&nbsp;t&nbsp;%&nbsp;parens&nbsp;(s&nbsp;url)<br>
<br>
<br>
<span class="keyword">end</span><br>
<br>
<br>
<span class="keyword">module</span>&nbsp;<span class="keyword">type</span>&nbsp;<span class="constructor">LOGGER_CONFIGURATION</span>&nbsp;=&nbsp;<span class="keyword">sig</span><br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** The input type for <code class="code"><span class="constructor">Make_logger</span></code>. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">type</span>&nbsp;(<span class="keywordsign">'</span>a,&nbsp;<span class="keywordsign">'</span>b)&nbsp;result<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** The potential result of <code class="code">print_string</code> *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;debug_level:&nbsp;unit&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;int<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;with_color:&nbsp;unit&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;bool<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;line_width:&nbsp;int<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;indent:&nbsp;int<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;print_string:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;(unit,&nbsp;<span class="keywordsign">'</span>b)&nbsp;result<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;do_nothing:&nbsp;unit&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;(unit,&nbsp;<span class="keywordsign">'</span>b)&nbsp;result<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;name:&nbsp;string<br>
<br>
<span class="keyword">end</span><br>
<br>
<span class="keyword">module</span>&nbsp;<span class="keyword">type</span>&nbsp;<span class="constructor">LOGGER</span>&nbsp;=&nbsp;<span class="keyword">sig</span><br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** The output type of <code class="code"><span class="constructor">Make_logger</span></code>, most functions come from <code class="code"><span class="constructor">SmartPrint</span></code>.
  *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">type</span>&nbsp;t&nbsp;=&nbsp;<span class="constructor">SmartPrint</span>.t<br>
&nbsp;&nbsp;<span class="keyword">type</span>&nbsp;(<span class="keywordsign">'</span>a,&nbsp;<span class="keywordsign">'</span>b)&nbsp;result<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;empty&nbsp;:&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;string&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;sub_string&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;(&nbsp;!^&nbsp;)&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;space&nbsp;:&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;newline&nbsp;:&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;append&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;(&nbsp;^-^&nbsp;)&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;concat_with_space&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;(&nbsp;^^&nbsp;)&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;words&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;lines&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;indent&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;nest&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;nest_all&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;group&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;group_all&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;parens&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;braces&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;brakets&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;angle_brakets&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;single_quotes&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;double_quotes&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;concat&nbsp;:&nbsp;t&nbsp;list&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;separate&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;list&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">module</span>&nbsp;<span class="constructor">OCaml</span>&nbsp;:<br>
&nbsp;&nbsp;<span class="keyword">sig</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;unit&nbsp;:&nbsp;unit&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;bool&nbsp;:&nbsp;bool&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;int&nbsp;:&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;float&nbsp;:&nbsp;float&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;string&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;option&nbsp;:&nbsp;(<span class="keywordsign">'</span>a&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="keywordsign">'</span>a&nbsp;option&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;list&nbsp;:&nbsp;(<span class="keywordsign">'</span>a&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="keywordsign">'</span>a&nbsp;list&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;tuple&nbsp;:&nbsp;t&nbsp;list&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">end</span><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;to_something&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;(char&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;unit)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;(string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;unit)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;(string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;unit)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;unit<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;to_buffer&nbsp;:&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">Buffer</span>.t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;unit<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;to_out_channel&nbsp;:&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;out_channel&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;unit<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;to_stdout&nbsp;:&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;unit<br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;(&nbsp;%&nbsp;)&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** Basic concatenation. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;s&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** Add a string, that may ve wrapped at each whitespace, <code class="code">s <span class="string">" bla "</span></code>
      preserves spacing at the beginning or the end. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;sp&nbsp;:&nbsp;t<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** A space. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;sf&nbsp;:&nbsp;(<span class="keywordsign">'</span>a,&nbsp;unit,&nbsp;string,&nbsp;t)&nbsp;format4&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="keywordsign">'</span>a<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** The equivalent of <code class="code">sprintf</code>; e.g. <code class="code">sf <span class="string">"%f %d"</span> 4.2 42</code>. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;i&nbsp;:&nbsp;int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;f&nbsp;:&nbsp;float&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;n&nbsp;:&nbsp;t<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** Forced new line. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;verbatim&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;exn&nbsp;:&nbsp;exn&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;option&nbsp;:&nbsp;f:(<span class="keywordsign">'</span>a&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="keywordsign">'</span>a&nbsp;option&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;escape&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;color&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** ANSI colored string. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;bold_red&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;bold_yellow&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;bold_green&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;greyish&nbsp;:&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t<br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;to_string&nbsp;:&nbsp;line_width:int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;indent:int&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">SmartPrint</span>.t&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;string<br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;to_list&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;line_width:int&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;indent:int&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">SmartPrint</span>.t&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;[&gt;&nbsp;<span class="keywordsign">`</span><span class="constructor">Char</span>&nbsp;<span class="keyword">of</span>&nbsp;char<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">String</span>&nbsp;<span class="keyword">of</span>&nbsp;string<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Sub_string</span>&nbsp;<span class="keyword">of</span>&nbsp;string&nbsp;*&nbsp;int&nbsp;*&nbsp;int&nbsp;]&nbsp;list<br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;print&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;[&lt;&nbsp;<span class="keywordsign">`</span><span class="constructor">Debug</span>&nbsp;<span class="keyword">of</span>&nbsp;int&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Error</span>&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Normal</span>&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Warning</span>&nbsp;]&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;(unit,&nbsp;<span class="keywordsign">'</span>a)&nbsp;result<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** Print a log message. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;(&nbsp;@&nbsp;)&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;[&lt;&nbsp;<span class="keywordsign">`</span><span class="constructor">Debug</span>&nbsp;<span class="keyword">of</span>&nbsp;int&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Error</span>&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Normal</span>&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Warning</span>&nbsp;]&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;(unit,&nbsp;<span class="keywordsign">'</span>a)&nbsp;result<br>
&nbsp;&nbsp;</code><table><tr><td>&nbsp;&nbsp;</td><td><span class="comment">(** Operator alias for <code class="code">print</code>. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;normal&nbsp;:&nbsp;[&gt;&nbsp;<span class="keywordsign">`</span><span class="constructor">Normal</span>&nbsp;]<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;error&nbsp;:&nbsp;[&gt;&nbsp;<span class="keywordsign">`</span><span class="constructor">Error</span>&nbsp;]<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;warning&nbsp;:&nbsp;[&gt;&nbsp;<span class="keywordsign">`</span><span class="constructor">Warning</span>&nbsp;]<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;verbose&nbsp;:&nbsp;[&gt;&nbsp;<span class="keywordsign">`</span><span class="constructor">Debug</span>&nbsp;<span class="keyword">of</span>&nbsp;int&nbsp;]<br>
&nbsp;&nbsp;<span class="keyword">val</span>&nbsp;very_verbose&nbsp;:&nbsp;[&gt;&nbsp;<span class="keywordsign">`</span><span class="constructor">Debug</span>&nbsp;<span class="keyword">of</span>&nbsp;int&nbsp;]<br>
<span class="keyword">end</span><br>
<br>
<span class="keyword">module</span>&nbsp;<span class="constructor">Make_logger</span>&nbsp;(<span class="constructor">P</span>&nbsp;:&nbsp;<span class="constructor">LOGGER_CONFIGURATION</span>)&nbsp;:&nbsp;<br>
&nbsp;&nbsp;<span class="constructor">LOGGER</span>&nbsp;<span class="keyword">with</span>&nbsp;<span class="keyword">type</span>&nbsp;(<span class="keywordsign">'</span>a,&nbsp;<span class="keywordsign">'</span>b)&nbsp;result&nbsp;=&nbsp;(<span class="keywordsign">'</span>a,&nbsp;<span class="keywordsign">'</span>b)&nbsp;<span class="constructor">P</span>.result&nbsp;=&nbsp;<span class="keyword">struct</span><br>
<br>
&nbsp;&nbsp;<span class="keyword">include</span>&nbsp;<span class="constructor">Metadoc</span><br>
&nbsp;&nbsp;<span class="keyword">type</span>&nbsp;(<span class="keywordsign">'</span>a,&nbsp;<span class="keywordsign">'</span>b)&nbsp;result&nbsp;=&nbsp;(<span class="keywordsign">'</span>a,&nbsp;<span class="keywordsign">'</span>b)&nbsp;<span class="constructor">P</span>.result<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;print&nbsp;log_kind&nbsp;t&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;convert_to_string&nbsp;formatted&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">SmartPrint</span>.to_string&nbsp;<span class="constructor">P</span>.line_width&nbsp;<span class="constructor">P</span>.indent&nbsp;formatted&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;display&nbsp;formatted&nbsp;=&nbsp;convert_to_string&nbsp;formatted&nbsp;|&gt;&nbsp;<span class="constructor">P</span>.print_string&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;using_colors&nbsp;=&nbsp;<span class="constructor">P</span>.with_color&nbsp;()&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;no_color&nbsp;t&nbsp;=&nbsp;t&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;normal_color&nbsp;=&nbsp;<span class="keyword">if</span>&nbsp;using_colors&nbsp;<span class="keyword">then</span>&nbsp;bold_green&nbsp;<span class="keyword">else</span>&nbsp;no_color&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;error_color&nbsp;=&nbsp;<span class="keyword">if</span>&nbsp;using_colors&nbsp;<span class="keyword">then</span>&nbsp;bold_red&nbsp;<span class="keyword">else</span>&nbsp;no_color&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;warning_color&nbsp;=&nbsp;<span class="keyword">if</span>&nbsp;using_colors&nbsp;<span class="keyword">then</span>&nbsp;bold_yellow&nbsp;<span class="keyword">else</span>&nbsp;no_color&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;debug_color&nbsp;=&nbsp;<span class="keyword">if</span>&nbsp;using_colors&nbsp;<span class="keyword">then</span>&nbsp;greyish&nbsp;<span class="keyword">else</span>&nbsp;no_color&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;format_log&nbsp;?(color_h=no_color)&nbsp;?(color_t=no_color)&nbsp;head&nbsp;t&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;colorless&nbsp;=&nbsp;head&nbsp;%&nbsp;t&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;has_newline&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">String</span>.find_index&nbsp;(convert_to_string&nbsp;colorless)&nbsp;~char:<span class="string">'\n'</span>&nbsp;&lt;&gt;&nbsp;<span class="constructor">None</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;display&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color_h&nbsp;(brakets&nbsp;head)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;string&nbsp;<span class="string">"&nbsp;"</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;(<span class="keyword">if</span>&nbsp;has_newline<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">then</span>&nbsp;color_t&nbsp;(n&nbsp;%&nbsp;indent&nbsp;t)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">else</span>&nbsp;color_t&nbsp;t)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;newline<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;log_kind&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Normal</span>&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format_log&nbsp;~color_h:normal_color&nbsp;(string&nbsp;<span class="constructor">P</span>.name)&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Error</span>&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format_log&nbsp;~color_h:error_color&nbsp;(s&nbsp;<span class="constructor">P</span>.name&nbsp;%&nbsp;s&nbsp;<span class="string">":&nbsp;ERROR"</span>)&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Warning</span>&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format_log&nbsp;~color_h:warning_color&nbsp;(s&nbsp;<span class="constructor">P</span>.name&nbsp;%&nbsp;s&nbsp;<span class="string">":&nbsp;Warning"</span>)&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Debug</span>&nbsp;level&nbsp;<span class="keyword">when</span>&nbsp;<span class="constructor">P</span>.debug_level&nbsp;()&nbsp;&gt;=&nbsp;level&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format_log&nbsp;&nbsp;~color_h:debug_color&nbsp;(s&nbsp;<span class="constructor">P</span>.name&nbsp;%s&nbsp;&nbsp;<span class="string">":&nbsp;debug"</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~color_t:debug_color&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="keywordsign">`</span><span class="constructor">Debug</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">P</span>.do_nothing&nbsp;()<br>
<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;(@)&nbsp;t&nbsp;kind&nbsp;=&nbsp;print&nbsp;kind&nbsp;t<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;normal&nbsp;=&nbsp;<span class="keywordsign">`</span><span class="constructor">Normal</span>&nbsp;<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;error&nbsp;=&nbsp;<span class="keywordsign">`</span><span class="constructor">Error</span>&nbsp;<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;warning&nbsp;=&nbsp;<span class="keywordsign">`</span><span class="constructor">Warning</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;verbose&nbsp;=&nbsp;<span class="keywordsign">`</span><span class="constructor">Debug</span>&nbsp;1<br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;very_verbose&nbsp;=&nbsp;<span class="keywordsign">`</span><span class="constructor">Debug</span>&nbsp;2<br>
<span class="keyword">end</span><br>
</code></body></html>