 <!DOCTYPE html> <html> <head><link rel="stylesheet" href="https://cdn.rawgit.com/hammerlab/ketrew/2d1c430cca52caa71e363a765ff8775a6ae14ba9/src/doc/code_style.css" type="text/css">
<link rel="stylesheet" href="http://cdn.jsdelivr.net/bootstrap/3.1.1/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.jsdelivr.net/bootstrap/3.1.1/css/bootstrap-theme.min.css" type="text/css"><meta charset="utf-8"><title>Docout: Literate Implementation</title></head><body><div class="container"><h1>Docout: Literate Implementation</h1><div class="row">
<div class="col-md-3">
<h2>Contents</h2><h2>Menu</h2><ul>
 <li><a href='index.html'>Home</a></li>
 <li><a href='docout.html'>Literate Implementation</a></li>
 <li><a href='./api/index.html'>API Documentation</a></li>
 <li>Repository <a href='https://bitbucket.org/smondet/docout'>at Bitbucket</a></li>
 <li>Up: <a href='../index.html'>Software Projects</a></li>
</ul>
</div><div class="col-md-9"><pre><span class="text">
</span><span class="kw">module</span><span class="text"> </span><span class="kw2">Internal</span><span class="text"> = </span><span class="kw1">struct</span><span class="text">

  </span><span class="kw">let</span><span class="text"> (|&gt;) </span><span class="id">f</span><span class="text"> </span><span class="id">x</span><span class="text"> =  </span><span class="id">x</span><span class="text"> </span><span class="id">f</span><span class="text">
  </span><span class="kw">module</span><span class="text"> </span><span class="kw2">String</span><span class="text"> = </span><span class="kw1">struct</span><span class="text">

    </span><span class="kw">include</span><span class="text"> </span><span class="kw2">StringLabels</span><span class="text">

    </span><span class="kw">let</span><span class="text"> </span><span class="id">get_exn</span><span class="text"> = </span><span class="id">get</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">get</span><span class="text"> </span><span class="id">s</span><span class="text"> </span><span class="kw4">~index</span><span class="text"> = </span><span class="kw1">try</span><span class="text"> </span><span class="kw2">Some</span><span class="text"> (</span><span class="id">get_exn</span><span class="text"> </span><span class="id">s</span><span class="text"> </span><span class="id">index</span><span class="text">) </span><span class="kw1">with</span><span class="text"> </span><span class="numeric">_</span><span class="text"> -&gt; </span><span class="kw2">None</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">sub_exn</span><span class="text"> = </span><span class="id">sub</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">find_index</span><span class="text"> </span><span class="id">s</span><span class="text"> </span><span class="kw4">~char</span><span class="text"> = </span><span class="kw1">try</span><span class="text"> </span><span class="kw2">Some</span><span class="text"> (</span><span class="id">rindex</span><span class="text"> </span><span class="id">s</span><span class="text"> </span><span class="kw3">char</span><span class="text">) </span><span class="kw1">with</span><span class="text"> </span><span class="numeric">_</span><span class="text"> -&gt; </span><span class="kw2">None</span><span class="text"> 
  </span><span class="kw1">end</span><span class="text">
  </span><span class="kw">module</span><span class="text"> </span><span class="kw2">List</span><span class="text"> = </span><span class="kw2">ListLabels</span><span class="text">

</span><span class="kw1">end</span><span class="text">
</span><span class="kw">open</span><span class="text"> </span><span class="kw2">Internal</span><span class="text">
</span><span class="kw">open</span><span class="text"> </span><span class="kw2">Printf</span><span class="text">

</span><span class="kw">module</span><span class="text"> </span><span class="kw2">Metadoc</span><span class="text"> = </span><span class="kw1">struct</span><span class="text">

  </span><span class="kw">include</span><span class="text"> </span><span class="kw2">SmartPrint</span><span class="text">

  </span><span class="kw">let</span><span class="text"> (%) = (^-^)
  </span><span class="kw">let</span><span class="text"> </span><span class="id">s</span><span class="text"> </span><span class="id">str</span><span class="text"> = 
    </span><span class="kw">let</span><span class="text"> </span><span class="id">has_leading_space</span><span class="text"> = </span><span class="kw2">String</span><span class="text">.</span><span class="id">get</span><span class="text"> </span><span class="id">str</span><span class="text"> </span><span class="kw4">~index</span><span class="text">:</span><span class="numeric">0</span><span class="text"> = </span><span class="kw2">Some</span><span class="text"> </span><span class="string">' '</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">has_ending_space</span><span class="text"> = </span><span class="kw2">String</span><span class="text">.(</span><span class="id">get</span><span class="text"> </span><span class="id">str</span><span class="text"> </span><span class="kw4">~index</span><span class="text">:(</span><span class="id">length</span><span class="text"> </span><span class="id">str</span><span class="text"> - </span><span class="numeric">1</span><span class="text">)) = </span><span class="kw2">Some</span><span class="text"> </span><span class="string">' '</span><span class="text"> </span><span class="kw">in</span><span class="text">
    (</span><span class="kw1">if</span><span class="text"> </span><span class="id">has_leading_space</span><span class="text"> </span><span class="kw1">then</span><span class="text"> </span><span class="id">space</span><span class="text"> </span><span class="kw1">else</span><span class="text"> </span><span class="id">empty</span><span class="text">) 
    % </span><span class="id">words</span><span class="text"> </span><span class="id">str</span><span class="text"> 
    % (</span><span class="kw1">if</span><span class="text"> </span><span class="id">has_ending_space</span><span class="text"> </span><span class="kw1">then</span><span class="text"> </span><span class="id">space</span><span class="text">  </span><span class="kw1">else</span><span class="text"> </span><span class="id">empty</span><span class="text">)

  </span><span class="kw">let</span><span class="text"> </span><span class="id">sp</span><span class="text"> = </span><span class="id">space</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">sf</span><span class="text"> </span><span class="id">fmt</span><span class="text"> = </span><span class="id">ksprintf</span><span class="text"> </span><span class="id">s</span><span class="text"> </span><span class="id">fmt</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">i</span><span class="text"> </span><span class="id">i</span><span class="text"> = </span><span class="kw2">OCaml</span><span class="text">.</span><span class="kw3">int</span><span class="text"> </span><span class="id">i</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">f</span><span class="text"> </span><span class="id">f</span><span class="text"> = </span><span class="kw2">OCaml</span><span class="text">.</span><span class="kw3">float</span><span class="text"> </span><span class="id">f</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">n</span><span class="text"> = </span><span class="id">newline</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">verbatim</span><span class="text"> </span><span class="id">s</span><span class="text"> = </span><span class="kw3">string</span><span class="text"> </span><span class="id">s</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">exn</span><span class="text"> </span><span class="id">e</span><span class="text"> = </span><span class="id">s</span><span class="text"> (</span><span class="kw2">Printexc</span><span class="text">.</span><span class="id">to_string</span><span class="text"> </span><span class="id">e</span><span class="text">)
  </span><span class="kw">let</span><span class="text"> </span><span class="id">option</span><span class="text"> </span><span class="kw4">~f</span><span class="text"> = </span><span class="kw">function</span><span class="text">
  | </span><span class="kw2">Some</span><span class="text"> </span><span class="id">o</span><span class="text"> -&gt; </span><span class="id">f</span><span class="text"> </span><span class="id">o</span><span class="text">
  | </span><span class="kw2">None</span><span class="text"> -&gt; </span><span class="id">empty</span><span class="text">

  </span><span class="kw">let</span><span class="text"> </span><span class="id">escape</span><span class="text"> </span><span class="id">c</span><span class="text"> = </span><span class="id">ksprintf</span><span class="text"> </span><span class="kw3">string</span><span class="text"> </span><span class="string">&quot;\027[%sm&quot;</span><span class="text"> </span><span class="id">c</span><span class="text"> 
  </span><span class="kw">let</span><span class="text"> </span><span class="id">color</span><span class="text"> </span><span class="id">c</span><span class="text"> </span><span class="id">t</span><span class="text"> = </span><span class="id">escape</span><span class="text"> </span><span class="id">c</span><span class="text"> % </span><span class="id">t</span><span class="text"> % </span><span class="id">escape</span><span class="text"> </span><span class="string">&quot;0&quot;</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">bold_red</span><span class="text"> </span><span class="id">t</span><span class="text"> =  </span><span class="id">color</span><span class="text"> </span><span class="string">&quot;1;31&quot;</span><span class="text"> </span><span class="id">t</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">bold_yellow</span><span class="text"> </span><span class="id">t</span><span class="text"> =  </span><span class="id">color</span><span class="text"> </span><span class="string">&quot;1;33&quot;</span><span class="text"> </span><span class="id">t</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">bold_green</span><span class="text"> </span><span class="id">t</span><span class="text"> =  </span><span class="id">color</span><span class="text"> </span><span class="string">&quot;1;32&quot;</span><span class="text"> </span><span class="id">t</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">greyish</span><span class="text"> </span><span class="id">t</span><span class="text"> = </span><span class="id">color</span><span class="text"> </span><span class="string">&quot;37&quot;</span><span class="text"> </span><span class="id">t</span><span class="text">

  </span><span class="kw">let</span><span class="text"> </span><span class="id">to_string</span><span class="text"> </span><span class="kw4">~line_width</span><span class="text"> </span><span class="kw4">~indent</span><span class="text"> </span><span class="id">t</span><span class="text"> =
    </span><span class="kw2">SmartPrint</span><span class="text">.</span><span class="id">to_string</span><span class="text"> </span><span class="id">line_width</span><span class="text"> </span><span class="id">indent</span><span class="text"> </span><span class="id">t</span><span class="text">

  </span><span class="kw">let</span><span class="text"> </span><span class="id">to_list</span><span class="text"> </span><span class="kw4">~line_width</span><span class="text"> </span><span class="kw4">~indent</span><span class="text"> </span><span class="id">t</span><span class="text"> =
    </span><span class="kw">let</span><span class="text"> </span><span class="id">res</span><span class="text"> = </span><span class="kw1">ref</span><span class="text"> [] </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">add</span><span class="text"> </span><span class="id">c</span><span class="text"> = </span><span class="id">res</span><span class="text"> := </span><span class="id">c</span><span class="text"> :: !</span><span class="id">res</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw2">SmartPrint</span><span class="text">.</span><span class="id">to_something</span><span class="text"> </span><span class="id">line_width</span><span class="text"> </span><span class="id">indent</span><span class="text">
      (</span><span class="kw">fun</span><span class="text"> </span><span class="id">c</span><span class="text"> -&gt; `</span><span class="kw2">Char</span><span class="text"> </span><span class="id">c</span><span class="text"> |&gt; </span><span class="id">add</span><span class="text">)
      (</span><span class="kw">fun</span><span class="text"> </span><span class="id">s</span><span class="text"> -&gt; `</span><span class="kw2">String</span><span class="text"> </span><span class="id">s</span><span class="text"> |&gt; </span><span class="id">add</span><span class="text">)
      (</span><span class="kw">fun</span><span class="text"> </span><span class="id">s</span><span class="text"> </span><span class="id">ofs</span><span class="text"> </span><span class="id">len</span><span class="text"> -&gt; `</span><span class="kw2">Sub_string</span><span class="text"> (</span><span class="id">s</span><span class="text">, </span><span class="id">ofs</span><span class="text">, </span><span class="id">len</span><span class="text">) |&gt; </span><span class="id">add</span><span class="text">)
      </span><span class="id">t</span><span class="text">;
    </span><span class="kw2">List</span><span class="text">.</span><span class="id">rev</span><span class="text"> !</span><span class="id">res</span><span class="text">

</span><span class="kw1">end</span><span class="text">

</span><span class="comment">(* Experimental Markdown printer. *)</span><span class="text">
</span><span class="kw">module</span><span class="text"> </span><span class="kw2">Markdown</span><span class="text"> = </span><span class="kw1">struct</span><span class="text">
  
  </span><span class="kw">include</span><span class="text"> </span><span class="kw2">Metadoc</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">to_markdown_string</span><span class="text"> ?(</span><span class="id">line_width</span><span class="text">=</span><span class="numeric">72</span><span class="text">) </span><span class="id">sm</span><span class="text"> =
    </span><span class="id">to_string</span><span class="text"> </span><span class="kw4">~line_width</span><span class="text"> </span><span class="kw4">~indent</span><span class="text">:</span><span class="numeric">4</span><span class="text"> </span><span class="id">sm</span><span class="text"> 

  </span><span class="kw">let</span><span class="text"> </span><span class="id">new_par</span><span class="text"> = </span><span class="id">n</span><span class="text"> % </span><span class="id">n</span><span class="text">

  </span><span class="kw">let</span><span class="text"> </span><span class="id">h</span><span class="text"> </span><span class="id">underliner</span><span class="text"> </span><span class="id">t</span><span class="text"> = 
    </span><span class="kw">let</span><span class="text"> </span><span class="id">title</span><span class="text"> = </span><span class="id">to_markdown_string</span><span class="text"> </span><span class="id">t</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">l</span><span class="text"> = </span><span class="kw2">String</span><span class="text">.</span><span class="id">length</span><span class="text"> </span><span class="id">title</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">underline</span><span class="text"> = </span><span class="kw2">String</span><span class="text">.</span><span class="id">make</span><span class="text"> </span><span class="id">l</span><span class="text"> </span><span class="id">underliner</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="id">verbatim</span><span class="text"> </span><span class="id">title</span><span class="text"> % </span><span class="id">n</span><span class="text"> % </span><span class="id">verbatim</span><span class="text"> </span><span class="id">underline</span><span class="text"> % </span><span class="id">new_par</span><span class="text">

  </span><span class="kw">let</span><span class="text"> </span><span class="id">h1</span><span class="text"> </span><span class="id">t</span><span class="text"> = </span><span class="id">h</span><span class="text"> </span><span class="string">'='</span><span class="text"> </span><span class="id">t</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">h2</span><span class="text"> </span><span class="id">t</span><span class="text"> = </span><span class="id">h</span><span class="text"> </span><span class="string">'-'</span><span class="text"> </span><span class="id">t</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">par</span><span class="text"> </span><span class="id">t</span><span class="text"> = </span><span class="id">t</span><span class="text"> % </span><span class="id">new_par</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">emph</span><span class="text"> </span><span class="id">t</span><span class="text"> = </span><span class="id">s</span><span class="text"> </span><span class="string">&quot;*&quot;</span><span class="text"> % </span><span class="id">t</span><span class="text"> % </span><span class="id">s</span><span class="text"> </span><span class="string">&quot;*&quot;</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">ul_filter</span><span class="text"> </span><span class="id">l</span><span class="text"> =
    </span><span class="id">concat</span><span class="text"> (</span><span class="kw2">List</span><span class="text">.</span><span class="id">filter</span><span class="text"> </span><span class="id">l</span><span class="text"> </span><span class="kw4">~f</span><span class="text">:(</span><span class="kw">fun</span><span class="text"> </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> &lt;&gt; </span><span class="id">empty</span><span class="text">) 
            |&gt; </span><span class="kw2">List</span><span class="text">.</span><span class="id">map</span><span class="text"> </span><span class="kw4">~f</span><span class="text">:(</span><span class="kw">fun</span><span class="text"> </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">s</span><span class="text"> </span><span class="string">&quot;- &quot;</span><span class="text"> % </span><span class="id">t</span><span class="text"> % </span><span class="id">n</span><span class="text">))
    % </span><span class="id">n</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">ul_inner</span><span class="text"> </span><span class="id">l</span><span class="text"> =
    </span><span class="id">indent</span><span class="text"> (</span><span class="id">separate</span><span class="text"> </span><span class="id">n</span><span class="text"> (</span><span class="kw2">List</span><span class="text">.</span><span class="id">map</span><span class="text"> </span><span class="id">l</span><span class="text"> </span><span class="kw4">~f</span><span class="text">:(</span><span class="kw">fun</span><span class="text"> </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">s</span><span class="text"> </span><span class="string">&quot;- &quot;</span><span class="text"> % </span><span class="id">t</span><span class="text">)))
  </span><span class="kw">let</span><span class="text"> </span><span class="id">url</span><span class="text"> </span><span class="id">u</span><span class="text"> = </span><span class="id">s</span><span class="text"> </span><span class="string">&quot;&lt;&quot;</span><span class="text"> % </span><span class="id">verbatim</span><span class="text"> </span><span class="id">u</span><span class="text"> % </span><span class="id">s</span><span class="text"> </span><span class="string">&quot;&gt;&quot;</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">link</span><span class="text"> </span><span class="id">t</span><span class="text"> </span><span class="kw4">~url</span><span class="text"> = </span><span class="id">brakets</span><span class="text"> </span><span class="id">t</span><span class="text"> % </span><span class="id">parens</span><span class="text"> (</span><span class="id">s</span><span class="text"> </span><span class="id">url</span><span class="text">)


</span><span class="kw1">end</span><span class="text">


</span><span class="kw">module</span><span class="text"> </span><span class="kw">type</span><span class="text"> </span><span class="kw2">LOGGER_CONFIGURATION</span><span class="text"> = </span><span class="kw1">sig</span><span class="text">
  </span><span class="comment">(** The input type for {!Make_logger}. *)</span><span class="text">

  </span><span class="kw">type</span><span class="text"> ('</span><span class="id">a</span><span class="text">, '</span><span class="id">b</span><span class="text">) </span><span class="id">result</span><span class="text">
  </span><span class="comment">(** The potential result of {!print_string} *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">debug_level</span><span class="text">: </span><span class="kw3">unit</span><span class="text"> -&gt; </span><span class="kw3">int</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">with_color</span><span class="text">: </span><span class="kw3">unit</span><span class="text"> -&gt; </span><span class="kw3">bool</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">line_width</span><span class="text">: </span><span class="kw3">int</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">indent</span><span class="text">: </span><span class="kw3">int</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">print_string</span><span class="text">: </span><span class="kw3">string</span><span class="text"> -&gt; (</span><span class="kw3">unit</span><span class="text">, '</span><span class="id">b</span><span class="text">) </span><span class="id">result</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">do_nothing</span><span class="text">: </span><span class="kw3">unit</span><span class="text"> -&gt; (</span><span class="kw3">unit</span><span class="text">, '</span><span class="id">b</span><span class="text">) </span><span class="id">result</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">name</span><span class="text">: </span><span class="kw3">string</span><span class="text">

</span><span class="kw1">end</span><span class="text">

</span><span class="kw">module</span><span class="text"> </span><span class="kw">type</span><span class="text"> </span><span class="kw2">LOGGER</span><span class="text"> = </span><span class="kw1">sig</span><span class="text">
  </span><span class="comment">(** The output type of {!Make_logger}, most functions come from [SmartPrint].
  *)</span><span class="text">

  </span><span class="kw">type</span><span class="text"> </span><span class="id">t</span><span class="text"> = </span><span class="kw2">SmartPrint</span><span class="text">.</span><span class="id">t</span><span class="text">
  </span><span class="kw">type</span><span class="text"> ('</span><span class="id">a</span><span class="text">, '</span><span class="id">b</span><span class="text">) </span><span class="id">result</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">empty</span><span class="text"> : </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="kw3">string</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">sub_string</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> ( !^ ) : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">space</span><span class="text"> : </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">newline</span><span class="text"> : </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">append</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> ( ^-^ ) : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">concat_with_space</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> ( ^^ ) : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">words</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">lines</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">indent</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">nest</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">nest_all</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">group</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">group_all</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">parens</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">braces</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">brakets</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">angle_brakets</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">single_quotes</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">double_quotes</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">concat</span><span class="text"> : </span><span class="id">t</span><span class="text"> </span><span class="kw3">list</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">separate</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> </span><span class="kw3">list</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">module</span><span class="text"> </span><span class="kw2">OCaml</span><span class="text"> :
  </span><span class="kw1">sig</span><span class="text">
    </span><span class="kw">val</span><span class="text"> </span><span class="kw3">unit</span><span class="text"> : </span><span class="kw3">unit</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
    </span><span class="kw">val</span><span class="text"> </span><span class="kw3">bool</span><span class="text"> : </span><span class="kw3">bool</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
    </span><span class="kw">val</span><span class="text"> </span><span class="kw3">int</span><span class="text"> : </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
    </span><span class="kw">val</span><span class="text"> </span><span class="kw3">float</span><span class="text"> : </span><span class="kw3">float</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
    </span><span class="kw">val</span><span class="text"> </span><span class="kw3">string</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
    </span><span class="kw">val</span><span class="text"> </span><span class="id">option</span><span class="text"> : ('</span><span class="id">a</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">) -&gt; '</span><span class="id">a</span><span class="text"> </span><span class="id">option</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
    </span><span class="kw">val</span><span class="text"> </span><span class="kw3">list</span><span class="text"> : ('</span><span class="id">a</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">) -&gt; '</span><span class="id">a</span><span class="text"> </span><span class="kw3">list</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
    </span><span class="kw">val</span><span class="text"> </span><span class="id">tuple</span><span class="text"> : </span><span class="id">t</span><span class="text"> </span><span class="kw3">list</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw1">end</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">to_something</span><span class="text"> :
    </span><span class="kw3">int</span><span class="text"> -&gt;
    </span><span class="kw3">int</span><span class="text"> -&gt;
    (</span><span class="kw3">char</span><span class="text"> -&gt; </span><span class="kw3">unit</span><span class="text">) -&gt;
    (</span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="kw3">unit</span><span class="text">) -&gt; (</span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="kw3">unit</span><span class="text">) -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="kw3">unit</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">to_buffer</span><span class="text"> : </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="kw2">Buffer</span><span class="text">.</span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="kw3">unit</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">to_out_channel</span><span class="text"> : </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="id">out_channel</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="kw3">unit</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">to_stdout</span><span class="text"> : </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="kw3">unit</span><span class="text">

  </span><span class="kw">val</span><span class="text"> ( % ) : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="comment">(** Basic concatenation. *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">s</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="comment">(** Add a string, that may ve wrapped at each whitespace, [s &quot; bla &quot;]
      preserves spacing at the beginning or the end. *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">sp</span><span class="text"> : </span><span class="id">t</span><span class="text">
  </span><span class="comment">(** A space. *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">sf</span><span class="text"> : ('</span><span class="id">a</span><span class="text">, </span><span class="kw3">unit</span><span class="text">, </span><span class="kw3">string</span><span class="text">, </span><span class="id">t</span><span class="text">) </span><span class="id">format4</span><span class="text"> -&gt; '</span><span class="id">a</span><span class="text">
  </span><span class="comment">(** The equivalent of [sprintf]; e.g. [sf &quot;%f %d&quot; 4.2 42]. *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">i</span><span class="text"> : </span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">f</span><span class="text"> : </span><span class="kw3">float</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">n</span><span class="text"> : </span><span class="id">t</span><span class="text">
  </span><span class="comment">(** Forced new line. *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">verbatim</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">exn</span><span class="text"> : </span><span class="id">exn</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">option</span><span class="text"> : </span><span class="id">f</span><span class="text">:('</span><span class="id">a</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">) -&gt; '</span><span class="id">a</span><span class="text"> </span><span class="id">option</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">escape</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">color</span><span class="text"> : </span><span class="kw3">string</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="comment">(** ANSI colored string. *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">bold_red</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">bold_yellow</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">bold_green</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">
  </span><span class="kw">val</span><span class="text"> </span><span class="id">greyish</span><span class="text"> : </span><span class="id">t</span><span class="text"> -&gt; </span><span class="id">t</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">to_string</span><span class="text"> : </span><span class="id">line_width</span><span class="text">:</span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="id">indent</span><span class="text">:</span><span class="kw3">int</span><span class="text"> -&gt; </span><span class="kw2">SmartPrint</span><span class="text">.</span><span class="id">t</span><span class="text"> -&gt; </span><span class="kw3">string</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">to_list</span><span class="text"> :
    </span><span class="id">line_width</span><span class="text">:</span><span class="kw3">int</span><span class="text"> -&gt;
    </span><span class="id">indent</span><span class="text">:</span><span class="kw3">int</span><span class="text"> -&gt;
    </span><span class="kw2">SmartPrint</span><span class="text">.</span><span class="id">t</span><span class="text"> -&gt;
    [&gt; `</span><span class="kw2">Char</span><span class="text"> </span><span class="kw">of</span><span class="text"> </span><span class="kw3">char</span><span class="text">
    | `</span><span class="kw2">String</span><span class="text"> </span><span class="kw">of</span><span class="text"> </span><span class="kw3">string</span><span class="text">
    | `</span><span class="kw2">Sub_string</span><span class="text"> </span><span class="kw">of</span><span class="text"> </span><span class="kw3">string</span><span class="text"> * </span><span class="kw3">int</span><span class="text"> * </span><span class="kw3">int</span><span class="text"> ] </span><span class="kw3">list</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">print</span><span class="text"> :
    [&lt; `</span><span class="kw2">Debug</span><span class="text"> </span><span class="kw">of</span><span class="text"> </span><span class="kw3">int</span><span class="text"> | `</span><span class="kw2">Error</span><span class="text"> | `</span><span class="kw2">Normal</span><span class="text"> | `</span><span class="kw2">Warning</span><span class="text"> ] -&gt; </span><span class="id">t</span><span class="text"> -&gt;
    (</span><span class="kw3">unit</span><span class="text">, '</span><span class="id">a</span><span class="text">) </span><span class="id">result</span><span class="text">
  </span><span class="comment">(** Print a log message. *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> ( @ ) :
    </span><span class="id">t</span><span class="text"> -&gt;
    [&lt; `</span><span class="kw2">Debug</span><span class="text"> </span><span class="kw">of</span><span class="text"> </span><span class="kw3">int</span><span class="text"> | `</span><span class="kw2">Error</span><span class="text"> | `</span><span class="kw2">Normal</span><span class="text"> | `</span><span class="kw2">Warning</span><span class="text"> ] -&gt;
    (</span><span class="kw3">unit</span><span class="text">, '</span><span class="id">a</span><span class="text">) </span><span class="id">result</span><span class="text">
  </span><span class="comment">(** Operator alias for {!print}. *)</span><span class="text">

  </span><span class="kw">val</span><span class="text"> </span><span class="id">normal</span><span class="text"> : [&gt; `</span><span class="kw2">Normal</span><span class="text"> ]
  </span><span class="kw">val</span><span class="text"> </span><span class="id">error</span><span class="text"> : [&gt; `</span><span class="kw2">Error</span><span class="text"> ]
  </span><span class="kw">val</span><span class="text"> </span><span class="id">warning</span><span class="text"> : [&gt; `</span><span class="kw2">Warning</span><span class="text"> ]
  </span><span class="kw">val</span><span class="text"> </span><span class="id">verbose</span><span class="text"> : [&gt; `</span><span class="kw2">Debug</span><span class="text"> </span><span class="kw">of</span><span class="text"> </span><span class="kw3">int</span><span class="text"> ]
  </span><span class="kw">val</span><span class="text"> </span><span class="id">very_verbose</span><span class="text"> : [&gt; `</span><span class="kw2">Debug</span><span class="text"> </span><span class="kw">of</span><span class="text"> </span><span class="kw3">int</span><span class="text"> ]
</span><span class="kw1">end</span><span class="text">

</span><span class="kw">module</span><span class="text"> </span><span class="kw2">Make_logger</span><span class="text"> (</span><span class="kw2">P</span><span class="text"> : </span><span class="kw2">LOGGER_CONFIGURATION</span><span class="text">) : 
  </span><span class="kw2">LOGGER</span><span class="text"> </span><span class="kw1">with</span><span class="text"> </span><span class="kw">type</span><span class="text"> ('</span><span class="id">a</span><span class="text">, '</span><span class="id">b</span><span class="text">) </span><span class="id">result</span><span class="text"> = ('</span><span class="id">a</span><span class="text">, '</span><span class="id">b</span><span class="text">) </span><span class="kw2">P</span><span class="text">.</span><span class="id">result</span><span class="text"> = </span><span class="kw1">struct</span><span class="text">

  </span><span class="kw">include</span><span class="text"> </span><span class="kw2">Metadoc</span><span class="text">
  </span><span class="kw">type</span><span class="text"> ('</span><span class="id">a</span><span class="text">, '</span><span class="id">b</span><span class="text">) </span><span class="id">result</span><span class="text"> = ('</span><span class="id">a</span><span class="text">, '</span><span class="id">b</span><span class="text">) </span><span class="kw2">P</span><span class="text">.</span><span class="id">result</span><span class="text">
  
  </span><span class="kw">let</span><span class="text"> </span><span class="id">print</span><span class="text"> </span><span class="id">log_kind</span><span class="text"> </span><span class="id">t</span><span class="text"> =
    </span><span class="kw">let</span><span class="text"> </span><span class="id">convert_to_string</span><span class="text"> </span><span class="id">formatted</span><span class="text"> =
      </span><span class="kw2">SmartPrint</span><span class="text">.</span><span class="id">to_string</span><span class="text"> </span><span class="kw2">P</span><span class="text">.</span><span class="id">line_width</span><span class="text"> </span><span class="kw2">P</span><span class="text">.</span><span class="id">indent</span><span class="text"> </span><span class="id">formatted</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">display</span><span class="text"> </span><span class="id">formatted</span><span class="text"> = </span><span class="id">convert_to_string</span><span class="text"> </span><span class="id">formatted</span><span class="text"> |&gt; </span><span class="kw2">P</span><span class="text">.</span><span class="id">print_string</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">using_colors</span><span class="text"> = </span><span class="kw2">P</span><span class="text">.</span><span class="id">with_color</span><span class="text"> () </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">no_color</span><span class="text"> </span><span class="id">t</span><span class="text"> = </span><span class="id">t</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">normal_color</span><span class="text"> = </span><span class="kw1">if</span><span class="text"> </span><span class="id">using_colors</span><span class="text"> </span><span class="kw1">then</span><span class="text"> </span><span class="id">bold_green</span><span class="text"> </span><span class="kw1">else</span><span class="text"> </span><span class="id">no_color</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">error_color</span><span class="text"> = </span><span class="kw1">if</span><span class="text"> </span><span class="id">using_colors</span><span class="text"> </span><span class="kw1">then</span><span class="text"> </span><span class="id">bold_red</span><span class="text"> </span><span class="kw1">else</span><span class="text"> </span><span class="id">no_color</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">warning_color</span><span class="text"> = </span><span class="kw1">if</span><span class="text"> </span><span class="id">using_colors</span><span class="text"> </span><span class="kw1">then</span><span class="text"> </span><span class="id">bold_yellow</span><span class="text"> </span><span class="kw1">else</span><span class="text"> </span><span class="id">no_color</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">debug_color</span><span class="text"> = </span><span class="kw1">if</span><span class="text"> </span><span class="id">using_colors</span><span class="text"> </span><span class="kw1">then</span><span class="text"> </span><span class="id">greyish</span><span class="text"> </span><span class="kw1">else</span><span class="text"> </span><span class="id">no_color</span><span class="text"> </span><span class="kw">in</span><span class="text">
    </span><span class="kw">let</span><span class="text"> </span><span class="id">format_log</span><span class="text"> ?(</span><span class="id">color_h</span><span class="text">=</span><span class="id">no_color</span><span class="text">) ?(</span><span class="id">color_t</span><span class="text">=</span><span class="id">no_color</span><span class="text">) </span><span class="id">head</span><span class="text"> </span><span class="id">t</span><span class="text"> =
      </span><span class="kw">let</span><span class="text"> </span><span class="id">colorless</span><span class="text"> = </span><span class="id">head</span><span class="text"> % </span><span class="id">t</span><span class="text"> </span><span class="kw">in</span><span class="text">
      </span><span class="kw">let</span><span class="text"> </span><span class="id">has_newline</span><span class="text"> =
        </span><span class="kw2">String</span><span class="text">.</span><span class="id">find_index</span><span class="text"> (</span><span class="id">convert_to_string</span><span class="text"> </span><span class="id">colorless</span><span class="text">) </span><span class="kw4">~char</span><span class="text">:</span><span class="string">'\n'</span><span class="text"> &lt;&gt; </span><span class="kw2">None</span><span class="text"> </span><span class="kw">in</span><span class="text">
      </span><span class="id">display</span><span class="text"> (
        </span><span class="id">color_h</span><span class="text"> (</span><span class="id">brakets</span><span class="text"> </span><span class="id">head</span><span class="text">)
        % </span><span class="kw3">string</span><span class="text"> </span><span class="string">&quot; &quot;</span><span class="text"> 
        % (</span><span class="kw1">if</span><span class="text"> </span><span class="id">has_newline</span><span class="text">
          </span><span class="kw1">then</span><span class="text"> </span><span class="id">color_t</span><span class="text"> (</span><span class="id">n</span><span class="text"> % </span><span class="id">indent</span><span class="text"> </span><span class="id">t</span><span class="text">)
          </span><span class="kw1">else</span><span class="text"> </span><span class="id">color_t</span><span class="text"> </span><span class="id">t</span><span class="text">)
        % </span><span class="id">newline</span><span class="text">
      ) </span><span class="kw">in</span><span class="text">
    </span><span class="kw1">match</span><span class="text"> </span><span class="id">log_kind</span><span class="text"> </span><span class="kw1">with</span><span class="text">
    | `</span><span class="kw2">Normal</span><span class="text"> -&gt; 
      </span><span class="id">format_log</span><span class="text"> </span><span class="kw4">~color_h</span><span class="text">:</span><span class="id">normal_color</span><span class="text"> (</span><span class="kw3">string</span><span class="text"> </span><span class="kw2">P</span><span class="text">.</span><span class="id">name</span><span class="text">) </span><span class="id">t</span><span class="text">
    | `</span><span class="kw2">Error</span><span class="text"> -&gt; 
      </span><span class="id">format_log</span><span class="text"> </span><span class="kw4">~color_h</span><span class="text">:</span><span class="id">error_color</span><span class="text"> (</span><span class="id">s</span><span class="text"> </span><span class="kw2">P</span><span class="text">.</span><span class="id">name</span><span class="text"> % </span><span class="id">s</span><span class="text"> </span><span class="string">&quot;: ERROR&quot;</span><span class="text">) </span><span class="id">t</span><span class="text">
    | `</span><span class="kw2">Warning</span><span class="text"> -&gt; 
      </span><span class="id">format_log</span><span class="text"> </span><span class="kw4">~color_h</span><span class="text">:</span><span class="id">warning_color</span><span class="text"> (</span><span class="id">s</span><span class="text"> </span><span class="kw2">P</span><span class="text">.</span><span class="id">name</span><span class="text"> % </span><span class="id">s</span><span class="text"> </span><span class="string">&quot;: Warning&quot;</span><span class="text">) </span><span class="id">t</span><span class="text">
    | `</span><span class="kw2">Debug</span><span class="text"> </span><span class="id">level</span><span class="text"> </span><span class="kw1">when</span><span class="text"> </span><span class="kw2">P</span><span class="text">.</span><span class="id">debug_level</span><span class="text"> () &gt;= </span><span class="id">level</span><span class="text"> -&gt;
      </span><span class="id">format_log</span><span class="text">  </span><span class="kw4">~color_h</span><span class="text">:</span><span class="id">debug_color</span><span class="text"> (</span><span class="id">s</span><span class="text"> </span><span class="kw2">P</span><span class="text">.</span><span class="id">name</span><span class="text"> %</span><span class="id">s</span><span class="text">  </span><span class="string">&quot;: debug&quot;</span><span class="text">)
        </span><span class="kw4">~color_t</span><span class="text">:</span><span class="id">debug_color</span><span class="text"> </span><span class="id">t</span><span class="text">
    | `</span><span class="kw2">Debug</span><span class="text"> </span><span class="numeric">_</span><span class="text"> -&gt; </span><span class="kw2">P</span><span class="text">.</span><span class="id">do_nothing</span><span class="text"> ()

  </span><span class="kw">let</span><span class="text"> (@) </span><span class="id">t</span><span class="text"> </span><span class="id">kind</span><span class="text"> = </span><span class="id">print</span><span class="text"> </span><span class="id">kind</span><span class="text"> </span><span class="id">t</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">normal</span><span class="text"> = `</span><span class="kw2">Normal</span><span class="text"> 
  </span><span class="kw">let</span><span class="text"> </span><span class="id">error</span><span class="text"> = `</span><span class="kw2">Error</span><span class="text"> 
  </span><span class="kw">let</span><span class="text"> </span><span class="id">warning</span><span class="text"> = `</span><span class="kw2">Warning</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">verbose</span><span class="text"> = `</span><span class="kw2">Debug</span><span class="text"> </span><span class="numeric">1</span><span class="text">
  </span><span class="kw">let</span><span class="text"> </span><span class="id">very_verbose</span><span class="text"> = `</span><span class="kw2">Debug</span><span class="text"> </span><span class="numeric">2</span><span class="text">
</span><span class="kw1">end</span><span class="text">
</span></pre></div></div></div></body><html>