 <!DOCTYPE html> <html> <head><link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootswatch/3.2.0/readable/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="https://cdn.rawgit.com/hammerlab/ketrew/2d1c430cca52caa71e363a765ff8775a6ae14ba9/src/doc/code_style.css" type="text/css"><meta charset="utf-8"><title>Oredoc: Home</title></head><body><div class="container"><h1>Oredoc: Home</h1><div class="row">
<div class="col-md-3">
<h2>Contents</h2><ul><li><a href='#Install'>Install</a>
</li><li><a href='#Example'>Example</a>
</li><li><a href='#Configuration'>Configuration</a>
</li><li><a href='#Warning'>Warning</a>
</li><li><a href='#License'>License</a>
</li></ul><h2>Menu</h2><ul><li><a href='index.html'>Home</a></li><li><a href='oredoc.html'>Literate Implementation</a></li><li><a href='./api/index.html'>API Documentation</a></li><li>Repository <a href='https://github.com/smondet/oredoc'>at Github</a></li><li>Up: <a href='../index.html'>Software Projects</a></li></ul></div><div class="col-md-9"><h1 id="Oredoc">Oredoc</h1>

<p>Build documentation websites for some OCaml projects.</p>
<p>The <code>oredoc</code> command builds a website out of a project&#39;s repository, see
<a href='oredoc___help.html' title='oredoc --help'><code>oredoc --help</code></a>. The command line is parametrised only with environment
variables.</p>
<h2 id="Install">Install</h2>

<p>If you have <code>opam</code> up and running:</p>
<pre><code>opam remote add smondet git@github.com:smondet/dev-opam-repo
opam install oredoc</code></pre><h2 id="Example">Example</h2>

<p>For example with Oredoc&#39;s website itself:</p>
<pre><code>INPUT=oredoc.ml \
  INDEX=README.md \
  TITLE_PREFIX=&quot;Oredoc: &quot; \
  OUTPUT_DIR=_doc \
  COMMAND_SUBSTITUTIONS=oredoc:_build/oredoc.native,some_command:gcc  \
  API=_apidoc \
  CATCH_MODULE_PATHS=^Oredoc:,^Markdown:Oredoc. \
  TITLE_SUBSTITUTIONS=&quot;oredoc.ml:Literate Implementation&quot; \
  oredoc </code></pre><p>We can see:</p>
<ul><li>Oredoc also transforms ML files: like <a href='oredoc.html'><code>oredoc.ml</code></a>.</li><li>The output of <a href='some_command___help.html' title='some_command --help'><code>some_command --help</code></a> is grabbed and displayed also. </li><li>If the command accepts <code>--help=groff</code> (like with
<a href='http://erratique.ch/software/cmdliner'>Cmdliner</a>), and <code>groff</code> is present,
then the Man page will be converted to HTML, 
e.g. <a href='opam___help.html' title='opam --help'><code>opam --help</code></a>, or <a href='opam_install___help.html' title='opam install --help'><code>opam install --help</code></a>.</li><li>Links to MLI files, like (the not-even existent)
<a href='api/Oredoc.html'><code>oredoc.mli</code></a> are converted into links to the
OCamlDoc-generated API
(the generation itself is not handled by Oredoc).</li><li>Links to values (e.g. <a href='api/Oredoc.Meta_result.html#VALbind' title='Oredoc.Meta_result.bind'><code>Oredoc.Meta_result.bind</code></a>), 
types (e.g. <a href='api/Oredoc.Meta_result.html#TYPEt' title='Oredoc.Meta_result.t'><code>Oredoc.Meta_result.t</code></a>), or whole modules
(e.g. <a href='api/Oredoc.Markdown.html' title='Oredoc.Markdown'><code>Oredoc.Markdown</code></a>) are created too (note, for now oredoc is not that
clever: types are called <code>t</code>, values are anything else).
Prefixes can be passed to the argument and added later: c.f. <a href='api/Oredoc.Markdown.html#VALto_html' title='Markdown.to_html'><code>Markdown.to_html</code></a>.</li></ul>

<h2 id="Configuration">Configuration</h2>

<p>The meaning of the environment variables are:</p>
<ul><li><code>INPUT=.,src/doc</code>: comma-separated list of files or directories (used to look
for files).</li><li><code>INDEX=README.md</code>: markdown file used to generate the <code>index.html</code>.</li><li><code>TITLE_PREFIX=&quot;Oredoc: &quot;</code>: prefix pages&#39; titles with this.</li><li><code>COMMAND_SUBSTITUTIONS=oredoc:_build/oredoc.native,some_command:gcc</code>:
when calling <a href='__help.html' title='--help'><code>--help</code></a> (or <code>--help=groff</code>) replace the prefix <code>some_command</code>
with <code>gcc</code> (comma-separated list of colon-separated substitutions).</li><li><code>TITLE_SUBSTITUTIONS=&quot;oredoc.ml:Literate Implementation&quot;</code>: by default titles
for filenames are made by chopping off the extension and replacing
underscores with spaces; this settings overrides this behavior.</li><li><code>API=_apidoc</code>: directory containing OCamldoc API documentation (will be
<code>rsync</code>ed to <code>api/</code> in the output directory).</li><li><code>CATCH_MODULE_PATHS</code>: list of couples, POSIX regular expressions with prefix
string, used to convert module paths.</li><li><code>CSS</code> is a comma-separated list of stylesheet URLs or paths.</li></ul>

<h2 id="Warning">Warning</h2>

<p>Hoping this warning is useless, this is <em>not</em> a wiki engine; any piece of
documentation can execute arbitrary commands on the host that is building the
documentation:
<a href='ordeoc___wc__l__etc_passwd____tmp_bouh____help.html' title='ordeoc $(wc -l /etc/passwd &gt; /tmp/bouh) --help'><code>ordeoc $(wc -l /etc/passwd &gt; /tmp/bouh) --help</code></a>
â‡’
Do not run <code>oredoc</code> on files for which you would not run <code>bash</code> or <code>make</code>,
you&#39;ve been warned.</p>
<h2 id="License">License</h2>

<p>This is <a href='http://en.wikipedia.org/wiki/ISC_license'>ISC</a> licensed.</p>
</div></div></div></body><html>