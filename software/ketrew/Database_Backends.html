 <!DOCTYPE html> <html> <head><link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootswatch/3.2.0/readable/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="https://cdn.rawgit.com/hammerlab/ketrew/2d1c430cca52caa71e363a765ff8775a6ae14ba9/src/doc/code_style.css" type="text/css"><meta charset="utf-8"><title>Ketrew: Database Backends</title></head><body><div class="container"><h1>Ketrew: Database Backends</h1><div class="row">
<div class="col-md-3">
<h2>Contents</h2><ul><li><a href='#ConfiguringDatabases'>Configuring Databases</a>
</li><li><a href='#SynchronizationampBackups'>Synchronization &amp; Backups</a>
</li></ul><h2>Menu</h2><ul><li><a href='index.html'>Home</a></li><li><a href='Alternative_CLI_Application.html'>Alternative CLI Application</a></li><li><a href='Database_Backends.html'>Database Backends</a></li><li><a href='Developer_Documentation.html'>Developer Documentation</a></li><li><a href='FAQ.html'>FAQ</a></li><li><a href='Glossary.html'>Glossary</a></li><li><a href='Long-Running_Plugins.html'>Long-Running Plugins</a></li><li><a href='Server_Commands.html'>Server Commands</a></li><li><a href='Standalone_Mode.html'>Standalone Mode</a></li><li><a href='The_Configuration_File.html'>The Configuration File</a></li><li><a href='The_HTTP_API.html'>The HTTP API</a></li><li><a href='Workflow_Examples.html'>Workflow Examples</a></li><li><a href='dummy_plugin_user.html'>Plugin-Usage Example</a></li><li><a href='dummy_plugin.html'>Plugin Example</a></li><li><a href='./api/index.html'>API Documentation</a></li><li>Documentation for <a href='./doc.0.0.0/index.html'>version 0.0.0</a></li><li>Documentation for <a href='./doc.1.0.0/index.html'>version 1.0.0</a></li><li>Documentation for <a href='./doc.1.1.0/index.html'>version 1.1.0</a></li><li>Documentation for <a href='./doc.1.1.1/index.html'>version 1.1.1</a></li><li>Documentation for <a href='./doc.2.0.0/index.html'>version 2.0.0</a></li><li>Repository <a href='https://github.com/hammerlab/ketrew'>at Github</a></li><li>Up: <a href='../index.html'>Software Projects</a></li></ul></div><div class="col-md-9"><h1 id="DatabaseBackends">Database Backends</h1>

<p>Using the <a href='http://seb.mondet.org/software/trakeva/index.html'>Trakeva</a> library,
Ketrew can happily work with both Sqlite or Postgresql database backends.</p>
<h2 id="ConfiguringDatabases">Configuring Databases</h2>

<p>The database is configured through the <code>~database_parameters</code> argument of the
function <a href='api/Ketrew.Configuration.html#VALengine' title='Ketrew.Configuration.engine'><code>Ketrew.Configuration.engine</code></a>.</p>
<p>The default is to configure a Sqlite backend (which has then to be available),
but one can easily use a Postgresql database by passing a “conninfo” URI
(cf. <a href='http://www.postgresql.org/docs/9.4/static/libpq-connect.html#LIBPQ-CONNSTRING'>documentation</a>).</p>
<h2 id="SynchronizationampBackups">Synchronization &amp; Backups</h2>

<p>Ketrew comes with a synchronization tool, see <a href='ketrew_synchronize___help.html' title='ketrew synchronize --help'><code>ketrew synchronize --help</code></a>.</p>
<p>One can copy the data between databases:</p>
<pre><code>ketrew sync --from sqlite:///path/to/the/db --to postresql://pg@example.com/databasename?password=blabla</code></pre><p>Or use “backup” directory trees:</p>
<pre><code>ketrew sync --from sqlite:///path/to/the/db --to backup://path/to/backup</code></pre><p>or</p>
<pre><code>ketrew sync --from backup://path/to/backup --to  postresql://pg@example.com/databasename?password=blabla</code></pre><p>The backup directory contains a few directories, containing each a number of
JSON files.</p>
</div></div></div></body><html>