<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- Generated with Dibrawi, BraceTax, Sebib, and some more hacks -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<style type="text/css">
body {
   color: #020202;
   background-color: #fff;
}
div.content {
   color: #020202;
   background-color: #fff;
}
div.sidepane {
   color: #020202;
   background-color: #fff;
}
 {
   color: #020202;
   background-color: #fff;
}
a:link {
   color: #B41D1D;
}
a:visited {
   color: #671010;
}
a:hover {
   background-color: #BFFCD1;
}
tt {
   color: #1B3A23;
}pre {
   color: #1B3A23;
}code {
   color: #1B3A23;
}
.dbwmixcode {
   background-color: #BFFCD1;
}
div.figure:after {
   color: #B41D1D;
}caption.tablefigure:after {
   color: #B41D1D;
}
body {
   font-family: serif;
   text-align: left;
   font-size: 90%;

}
 {
   font-family: serif;
   text-align: left;
   font-size: 90%;

}
div.header {
   text-align: center;

}
h1 {
   font-size: 200%;
   font-variant: small-caps;

}
div.authors {
   font-size: 110%;

}
div.subtitle {
   font-size: 110%;
   font-style: italic;
}
h2 {
   font-size: 180%;

}
h3 {
   font-size: 150%;

}
h4 {
   font-size: 130%;

}
h5 {
   font-size: 108%;

}
a {
   text-decoration: underline thin;
}
tt,code,pre {
   font-family: monospace;

}
div.figure,div.tablefigure {
   font-size: 90%;

}
.content body {
   font-family: serif;
   text-align: justify;
   font-size: 100%;

}
.content  {
   font-family: serif;
   text-align: justify;
   font-size: 100%;

}
.content div.header {
   text-align: center;

}
.content h1 {
   font-size: 200%;
   font-variant: small-caps;

}
.content div.authors {
   font-size: 110%;

}
.content div.subtitle {
   font-size: 110%;
   font-style: italic;
}
.content h2 {
   font-size: 180%;

}
.content h3 {
   font-size: 150%;

}
.content h4 {
   font-size: 130%;

}
.content h5 {
   font-size: 108%;

}
.content a {
   text-decoration: underline thin;
}
.content tt,code,pre {
   font-family: monospace;

}
.content div.figure,div.tablefigure {
   font-size: 90%;

}
div.header {
    text-align: center;
    border:  #B41D1D solid 5px;
    padding-top:    2.1em;
    padding-bottom: 2.05em;
    margin-bottom: 3em;
}
div.p {
    padding-bottom: 0em;
}
div.p + div.p { padding-top: 0.5em; }
body {overflow: auto;}
code,pre {overflow: auto}
blockquote {
    border-left: 2px solid #020202;
    padding-left: 1em;
}
ul, ol {
    padding-top: 0em;
    padding-bottom: 0em;
    padding-left:  1.8em;
    margin-top: 0em;
    margin-bottom: 0em;
}
.dibrawicomment:before { content:  "["; }
.dibrawicomment:after { content: "]"; }
.dibrawicomment {
    background-color: yellow;
    color: red;
}
.dibrawimenudir { display: block; }
         ul  li.dibrawi_menuli {
           display: inline;
         } 
         ul.dibrawi_menuul {
           padding: 0em;
           margin: 0em;
           margin-left: 1em;
         }
table.tablefigure {
    margin-right:auto;
    margin-left: auto;
    border-collapse: collapse;
    min-width: 80%;
    margin-bottom: 1em;
}
caption.tablefigure {
    caption-side:bottom;
}
div.figure:after, caption.tablefigure:after { content: " [" attr(id) "]"; }
td, th {
    padding: 0.4em;
}
img {
    border: none;
    padding-bottom: 0.5em;
}div.figure, div.tablefigure {
    text-align: center;
    font-size:90%;
    border: thin #959595 solid;
    padding: 1ex;
    margin: 1em;
    width: 90%;
    margin-left: 5%;
    margin-right: 0em;
    clear: both;

}
small.notebegin { font-size: 70%; vertical-align: super; counter-increment: footnote; }
small.noteend { font-size: 70%; vertical-align: super; }
small.noteend:before {  content: counter(footnote) }
small.note:before { content: counter(footnote) ": " }
body { counter-reset: section subsection subsubsection footnote; }

small.note {
    font-size: 76%;
    clear: right;
    width: 32%;
    border: thin #959595 solid;
    float: right;
    margin: 0.5em;
    margin-right: 0em;
    padding: 0.5em;
}
h2 { border: #B41D1D solid 2px; padding: 0.2em; }
h3 { text-decoration: underline;}
pre {
    position: relative; left: 5%; max-width: 90%; clear: left;
}
div.sidepane {
  left: 0.5%; width: 19.000000%; padding: 0.5%;
  border-right: #B41D1D ridge 1px;
    top: 2px;
    position:fixed;
    overflow: auto;
    bottom: 2px;
}
div.content {
max-width : 45em; left: 21.000000%; right: 0.5%; padding: 0.2em;
    top: 2px;
    position: absolute;
}
</style>
<link rel="shortcut icon" href="http://seb.mondet.org/images/sm.ico">
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://seb.mondet.org/blog/feed/all_posts.rss">
<title>Seb's Blog: Third Post; New Blog Engine</title>
</head>
<body>
<div class="content">
<div class="p"></div>
<h2 id="Third_Post__New_Blog_Engine">Third Post; New Blog Engine</h2>
<div class="p"> <small> ➲&nbsp;&nbsp;<b>Date:</b> <i>Tue, 26 Apr 2011 09:28:20 +0200</i>; <b>Tags:</b> <tt>[<a href="../feed/ocaml.rss"><tt>ocaml</tt></a>; <a href="../feed/meta.rss"><tt>meta</tt></a>; <a href="../feed/dibrawi.rss"><tt>dibrawi</tt></a>]</tt>. </small><br/>
<br/>
             </div>
<div class="p">  I got quickly annoyed by Wordpress' interface, and by the engine itself,  and by those ugly themes, and&nbsp;&hellip; OK, let's stop bad-mouthing other people&nbsp;&hellip; </div>
<div class="p">  <blockquote><div class="p"><i>&lsquo;On n'est jamais mieux servi que par soi-même <a href="http://forum.wordreference.com/showthread.php?t=263500">&hellip;</a>&rsquo;</i></div></blockquote> </div>
<div class="p">  I added a <tt>Blog</tt> module to <a href="https://github.com/smondet/dibrawi">Dibrawi</a>'s helper interface for <a href="http://martin.jambon.free.fr/camlmix/">Camlmix</a>. Let's say <i>Dibrawi</i> is a Wiki engine <i>under heavy development</i>, based on  the <a href="http://seb.mondet.org/bracetax/">Bracetax</a> syntax, bibliography management with <a href="http://sebib.forge.ocamlcore.org/">Sebib</a>, and other stuff (e.g. an address book).  It has a <i>wiki</i> default running mode, which only converts the wiki pages, the bibliography, and the address book to HTML. The <i>wiki</i> mode is fast and <i>seems</i> secure<small class="notebegin">(</small><small class="note">or at least it is more secure than any other wiki engine I know&nbsp;&hellip;</small><small class="noteend">)</small>. On the other hand, each page can be <i>preprocessed</i> separately (locally, on command line) while activating OCaml code (<i>Camlmix</i>). This code will be compiled and run to generate whatever the user wants (like a  <a href="http://seb.mondet.org">web site</a>, or a <a href="http://seb.mondet.org/CV_SebastienMONDET.pdf">PDF</a>). In <i>wiki</i> mode, the OCaml code is just displayed as <tt>code</tt> or ignored. </div>
<div class="p">  Henceforth, this new blog engine is a nice occasion to start showing some of the ideas behind <i>Dibrawi</i>. With some OCaml code one can quickly and easily generate a static blog (which uses <a href="http://disqus.com/">Disqus</a> as comment system). The bunch of HTML files together with the RSS feeds can be uploaded to any hosting facility (like <a href="http://github.com">GitHub</a>&nbsp;<tt>;&#150;)</tt>). </div>
<div class="p">  The idea is to play with the  <a href="https://github.com/smondet/dibrawi/blob/f38296ac3b6b7fa168ac38c4baec7e0e24b387ba/src/lib/dibrawi_mix.ml#L782"><tt>Blog</tt> module</a>'s functions (and the rest of the <tt>dibrawi</tt> library) to generate a full blog. Here is a full example: 
<ul>
 <li>  <a href="https://github.com/smondet/dibrawi/blob/master/doc/examples/Blog.brtx"><b>The file <tt>Blog.brtx</tt></b></a>: We see the <i>tags</i> <tt>{mix:code}</tt>, <tt>{mix:ignore}</tt> and <tt>{mix:end}</tt>  which are the <i>main</i> escape commands to put OCaml code within <i>Dibrawi</i> (replacing the &ldquo;<tt>##</tt>&rdquo; family in Camlmix).  </li>
<li>  <a href="http://seb.mondet.org/dibrawi/wiki/examples/Blog.html"><b>The <i>wiki</i> mode version</b></a> displays the OCaml code which used <tt>{mix:code}</tt>. </li>
<li> <a href="http://seb.mondet.org/dibrawi/blog/"><b>The blog</b></a> (HTML and RSS files) is generated by the code  at the end of the source. </li>
</ul>
 </div>
<div class="p"> Once the framework is set up, each new blog post is just some text enclosed between <tt>blog#new_post</tt> and <tt>blog#end_post</tt> calls, e.g.:   <pre>
{mix:code} blog#new_post 
  ~title:"Anyweb, Document Source Code The Way You Like"
  ~date:"Tue, 19 Apr 2011 21:26:42 +0200"
  ~tags:[ "hack_of_the_day"; "anyweb"; "coq"; "ocaml" ]
  "anyweb-document-source-code-the-way-you-like"
{mix:end}
 
I was playing with Adam Chlipala's
{q|{link http://adam.chlipala.net/cpdt/ |CPDT}} book
and I wanted to take notes on some notations.
I also wanted to do it in a
 
  # Quite a lot of text ... 
 
{mix:code} blog#end_post {mix:end}
</pre>    </div>
<div class="p">   Each time, generating the blog is as simple as calling <tt>dbw</tt> with  the <tt>run</tt> command: <pre>
dbw run path/to/Blog.brtx 
</pre> and that's all for today folks!  </div>
<div class="p"><hr/><div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = 'sebmondetblog'; 
      // required: replace example with your forum shortname
  
      // The following are highly recommended additional
      // parameters. Remove the slashes in front to use.
      var disqus_identifier = 'third-post-new-blog-engine';
      var disqus_url = 'http://seb.mondet.org/./blog/post/third-post-new-blog-engine.html';
  
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script');
          dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] ||
             document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered
  by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog
  comments powered by <span class="logo-disqus">Disqus</span></a></div>

<div id="pagefoot" />
</div>
<div class="sidepane">
<h1>Sebastien Mondet</h1><br/>
<b>Menu: </b><div class="p">
<ul>
  <li> <a href="../../index.html">Home</a>  </li>
<li> <a href="../../publications.html">Publications</a>  </li>
<li> <a href="../../software.html">Software</a>  </li>
<li> <a href="../../blog/index.html">Blog</a> </li>
</ul>
 </div>
<br/>
<br/>
<br/>
<br/>
<br/>
<small><div class="p"> Site generated thanks to  <a href="http://seb.mondet.org/bracetax/">bracetax</a>, <a href="http://martin.jambon.free.fr/camlmix/">camlmix</a>, <a href="http://seb.mondet.org/sebib/">sebib</a>, and <a href="https://github.com/smondet/dibrawi">more&nbsp;&hellip;</a> <br/>
 Updated on Sat, 10 Dec 2011 12:46:34 -0500. <br/>
 <a href="http://seb.mondet.org">Sebastien Mondet</a><br/>
<br/>
 </small>
<a href="http://caml.inria.fr/">
  <img src="http://caml.inria.fr//pub/logos/caml-powered.80x30.png"
       alt="Powered by Caml"
       style="border: none;" />
</a> </div>
<br/>
</div>
</body></html>
