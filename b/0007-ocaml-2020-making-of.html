<html>
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>
    </style>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/openpgp/4.0.0/openpgp.min.js"
    ></script>
</head>
<body>
<h2>PGP-Encrypted Page, please provide a passphrase.</h2>
<form id="staticrypt-form" action="#" method="post">
   <input id="staticrypt-password"
          type="password"
          name="password"
          placeholder="passphrase"
          autofocus/>
   <input id="staticrypt-form-submit"
          type="submit"
          value="DECRYPT"/>
</form>
<div id="errors"></div>
<code><pre id="armored-content">
-----BEGIN PGP MESSAGE-----

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
=SdcJ
-----END PGP MESSAGE-----
</pre></code>
<script>

function tryPassphrase(passphrase,silent) {
    console.log("tryPassphrase " + passphrase);
    var openpgp = window.openpgp;
    var options, encrypted;
    var encryptedMsg = document.getElementById('armored-content').innerHTML ;
    
    var armoredmsg = encryptedMsg.replace(/@/g, "\n");
    console.log("armoredmsg:\n" + armoredmsg);
    return openpgp.message.readArmored(armoredmsg).then(function (msg) {
        // console.log("msg " + JSON.stringify(msg));
        console.log("passphrase " + JSON.stringify(passphrase));
        options = {
            message: msg,
            passwords: [passphrase], // decrypt with password
            armor: true,
            format: 'utf8'
        };
        openpgp.decrypt(options).then(function(plaintext) {
            console.log("plaintext of msg " + JSON.stringify(plaintext));
            document.open("text/html", "replace");
            document.write(plaintext.data);
            document.close();
            return true;
        }).catch(function (error) {
            if (silent) {
                console.log("error: " + error);
            } else {
                var errors = document.getElementById('errors');
                errors.innerHTML = '<b>ERROR: decryption failed: </b><code>'
                    + error
                    + '</code> <i>(usually means wrong password …)</i>';
            };
        });
    });
};
console.log("Setting on submit");
document.getElementById('staticrypt-form').addEventListener('submit', function(e) {
    e.preventDefault();
    console.log("on the submit");
    var passphrase = document.getElementById('staticrypt-password').value;
    console.log("on the submit passph: " + passphrase);
    tryPassphrase(passphrase, false);
});
window.onload = function() { 
    var firstAttempt = "";
    if (window.location.hash.charAt(0) == '#') {
        firstAttempt = window.location.hash.substring(1);
    } else {
        firstAttempt = window.location.hash
    };
    tryPassphrase(firstAttempt, true).then(function(ret) {
        if (ret) {
            console.log("on the else of firstAttempt");
        } else {
            console.log("Nope from the hash: " + firstAttempt);
        };
    }, function(error) {
        console.log("Error from tryPassphrase: " + error);
    });
};
</script>
</body>
</html>
