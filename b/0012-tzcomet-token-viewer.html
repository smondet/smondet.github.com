<html>
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>
    </style>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/openpgp/4.0.0/openpgp.min.js"
      integrity="sha512-LsI4YA/OY2EMDyHS4lWWUweqqcQXRi5RACGFsemrbqQAguNpNNhjRaJcua7Pvu+SZxGR1vbINmbRM1StWO9Z/Q=="
      crossorigin="anonymous"
    ></script>
</head>
<body>
<h2>PGP-Encrypted Page, please provide a passphrase.</h2>
<form id="staticrypt-form" action="#" method="post">
   <input id="staticrypt-password"
          type="password"
          name="password"
          placeholder="passphrase"
          autofocus/>
   <input id="staticrypt-form-submit"
          type="submit"
          value="DECRYPT"/>
</form>
<div id="errors"></div>
<code><pre id="armored-content">
-----BEGIN PGP MESSAGE-----

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
5QDrOZbbQusXSPKhmQ==
=fFoE
-----END PGP MESSAGE-----
</pre></code>
<script>

function tryPassphrase(passphrase,silent) {
    console.log("tryPassphrase " + passphrase);
    var openpgp = window.openpgp;
    var options, encrypted;
    var encryptedMsg = document.getElementById('armored-content').innerHTML ;
    
    var armoredmsg = encryptedMsg.replace(/@/g, "\n");
    console.log("armoredmsg:\n" + armoredmsg);
    return openpgp.message.readArmored(armoredmsg).then(function (msg) {
        // console.log("msg " + JSON.stringify(msg));
        console.log("passphrase " + JSON.stringify(passphrase));
        options = {
            message: msg,
            passwords: [passphrase], // decrypt with password
            armor: true,
            format: 'utf8'
        };
        openpgp.decrypt(options).then(function(plaintext) {
            console.log("plaintext of msg " + JSON.stringify(plaintext));
            document.open("text/html", "replace");
            document.write(plaintext.data);
            var meta = document.createElement('meta');
            meta.name = "referrer";
            meta.content = "no-referrer";
            document.getElementsByTagName('head')[0].appendChild(meta);
            document.close();
            return true;
        }).catch(function (error) {
            if (silent) {
                console.log("error: " + error);
            } else {
                var errors = document.getElementById('errors');
                errors.innerHTML = '<b>ERROR: decryption failed: </b><code>'
                    + error
                    + '</code> <i>(usually means wrong password …)</i>';
            };
        });
    });
};
console.log("Setting on submit");
document.getElementById('staticrypt-form').addEventListener('submit', function(e) {
    e.preventDefault();
    console.log("on the submit");
    var passphrase = document.getElementById('staticrypt-password').value;
    console.log("on the submit passph: " + passphrase);
    tryPassphrase(passphrase, false);
});
window.onload = function() { 
    var firstAttempt = "";
    if (window.location.hash.charAt(0) == '#') {
        firstAttempt = window.location.hash.substring(1);
    } else {
        firstAttempt = window.location.hash
    };
    tryPassphrase(firstAttempt, true).then(function(ret) {
        if (ret) {
            console.log("on the else of firstAttempt");
        } else {
            console.log("Nope from the hash: " + firstAttempt);
        };
    }, function(error) {
        console.log("Error from tryPassphrase: " + error);
    });
};
</script>
</body>
</html>
