<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>TZComet's New Token Viewer</title><meta charset="utf-8"/></head><body><style>body {font-family: sans;max-width: 80ch;margin: auto;padding: 10px}blockquote {padding: 3px;border-left: solid #888 3px}details.details-inline {display: inline}details.details-inline[open] {display: block}details.module-menu { display: inline }
details.module-menu[open] { display: block }.hundred-days-heading {font-style: italic}.tag-in-list-of-tags {font-family: monospace;color: #800}.remark-block {background-color: #f0f0f0;padding: 7px;margin: 0px;border: solid 2px #aaa;border-radius: 15px}h2 {color: #050;padding: 0px}.header-block {padding: 4px}.header-title {font-size: 300%;color: #050}.header-description {font-size: 120%;font-style: italic;color: #555}.header-metadata {margin-top: 1.5em;margin-bottom: 1em;font-size: 100%;padding: 10px;border-left: solid 5px #ccc}.header-author {font-weight: bold;display: block}.header-status {font-style: italic;display: block}.header-tags {display: block}.header-tags::before {content: '‚è£¬†Tags:¬†'}.header-tags::after {content: '.'}.post-status::before {content: '‚è∞¬†';font-style: normal}.header-author::before {content: '‚úç¬†'}.header-social-links {display: block}.header-social-links::before {content: 'üîó¬†'}.header-social-links::after {content: '.'}.header-license-badge {opacity: 0.6;display: block}.header-license-badge:hover {opacity: 0.9}.header-license-badge::before {content: '‚ô≤¬†';opacity: 0.9}.code-block {background-color: #f0f0f0;padding: 2px 2px 2px 2px;border-radius: 4px}.index-item-bloc {margin: 1em 0em 1em 0em}
code{white-space: pre-wrap;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 4px 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource {
  margin-left: 5ch;
  border-left: 1px solid #aaaaaa;
  padding-left: 2px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
</style><div><a href="./index.html">home</a><hr/></div><div class="content"><div><div class="header-block"><h1 class="header-title">TZComet's New Token Viewer</h1><div class="header-description">TZComet and CleanNFT Metadata: a generic token-viewer ‚òÑ<br/>Also new domain tzcomet.io üå†</div><div class="header-metadata"><span class="header-author"><a href="https://seb.mondet.org">Seb Mondet</a></span><span class="header-status"><span class="post-status">Posted on: Fri, 26 Mar 2021</span></span><span class="header-license-badge"><a href="http://creativecommons.org/licenses/by/4.0/"><img src="https://i.creativecommons.org/l/by/4.0/80x15.png" alt="Creative Commons License: CC-By"/></a></span><span class="header-tags"><span class="tag-in-list-of-tags">#OCaml</span>, <span class="tag-in-list-of-tags">#Tezos</span>, <span class="tag-in-list-of-tags">#NFT</span>, <span class="tag-in-list-of-tags">#CleanNFT</span>, <span class="tag-in-list-of-tags">#CleanNFTs</span></span><span class="header-social-links"><a href="https://twitter.com/smondet/status/1375439082206158850"><code>Tweet</code></a>, <a href="https://framapiaf.org/@smondet/105956318076813557"><code>Toot</code></a></span></div></div> <p>As the Tezos ecosystem converges around metadata standards for NFTs
(a.k.a. <a href='https://tqtezos.medium.com/proof-of-work-vs-proof-of-stake-the-ecological-footprint-c58029faee44'>Clean¬†NFTs</a>),
TZComet now provides a ‚Äútoken-viewer‚Äù (already 2 iterations, first blog
post¬†‚Ä¶). It also got upgraded to its own fancy domain name:
<a href='https://tzcomet.io'>tzcomet.io</a>.</p>
<p>The token-viewer, instead of trying to validate and report errors like the
‚Äúexplorer‚Äù does, attempts at nicely displaying as much as possible of a token
(NFT or <em>not-non-fungible</em> as well ‚ò∫) filling-in for incomplete or erroneous
metadata as much as possible.</p>
<div style="margin: auto; width: 70%; border: solid 3px #bbb; padding: 5px"><a href="https://user-images.githubusercontent.com/617111/112543359-05f7dd00-8d8c-11eb-8c6a-249c179c7714.gif"><img src="https://user-images.githubusercontent.com/617111/112543359-05f7dd00-8d8c-11eb-8c6a-249c179c7714.gif" alt="Some GIF of the token-viewer." style="width: 100% ; "/></a></div><p>The constraint of talking only to Tezos-nodes and IPFS gateways is still there so
of course nothing is pre-computed, but the nice people at SmartPy take good care
of their <a href='https://smartpy.io/nodes'>nodes</a>; it&#39;s surprisingly fast.</p>
<p>The UI tries to simplify interactions to a few buttons: ‚Äúrandom token‚Äù, ‚Äú<code>+¬†1</code>‚Äù,
and ‚Äú<code>‚Äì¬†1</code>‚Äù, but there is a complication with the <em>‚ÄúShow Potentially NSFW‚Äù</em>
option. Check the box or be asked every time for an extra click to show images,
videos, etc.  It is all multimedia coming from anyone on the Internet; anything
you can imagine or don&#39;t want to¬†‚Ä¶  If you want a high-level view of a big set
of visual NFTs you can check-out
<a href='https://here-or-there.glitch.me/index_clip.html'>here-or-there.glitch.me</a> by
<em>Mario Klingemann</em> (<a href='https://quasimondo.com/'>quasimondo.com</a>).</p>
<p>SVGs can also execute arbitrary Javascript code on the page; including
<em>phoning-home</em> to track you, or trying to exploit vulnerabilities in your
browser.</p>
<p>Here are a too many examples:</p>
<ul><li><a href="https://auctions.alchememist.com/">The Alchememist</a> has been minting a few on the same contract: <a href="https://tzcomet.io/#/token/KT1W4wh1qDc2g22DToaTfnCtALLJ7jHn38Xc/0%3Falways-show-multimedia%3Dtrue"><code>KT1W4wh1‚Ä¶/0</code></a>, <a href="https://tzcomet.io/#/token/KT1W4wh1qDc2g22DToaTfnCtALLJ7jHn38Xc/1%3Falways-show-multimedia%3Dtrue"><code>KT1W4wh1‚Ä¶/1</code></a>, <a href="https://tzcomet.io/#/token/KT1W4wh1qDc2g22DToaTfnCtALLJ7jHn38Xc/2%3Falways-show-multimedia%3Dtrue"><code>KT1W4wh1‚Ä¶/2</code></a> ‚Ä¶ <a href="https://tzcomet.io/#/token/KT1W4wh1qDc2g22DToaTfnCtALLJ7jHn38Xc/15%3Falways-show-multimedia%3Dtrue"><code>KT1W4wh1‚Ä¶/15</code></a> ; they are all images on IPFS, the formats are not provided, in that case
TZComet guesses them by downloading the few first bytes of the binary blob and
doing some <a href="https://stackoverflow.com/questions/55869/determine-file-type-of-an-image">magic-number</a> matching.</li><li>The website <a href="https://www.hicetnunc.xyz/">Hic Et Nunc</a> has allowed people to mint thousands of NFTs with a lot freedom in multimedia-formats. It is also all on IPFS but, at least in version 2 of the contract, MIME/content-types are provided in the metadata.<ul><li><a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/3000%3Falways-show-multimedia%3Dtrue"><code>KT1RJ6Pb‚Ä¶/3000</code></a>: a video.</li><li><a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/3001%3Falways-show-multimedia%3Dtrue"><code>KT1RJ6Pb‚Ä¶/3001</code></a>: an animated GIF.</li><li><a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/7577%3Falways-show-multimedia%3Dtrue"><code>KT1RJ6Pb‚Ä¶/7577</code></a>: the ‚ÄúJumpy Dot‚Äù is an interactive-SVG game, cf. <strong>@mrdoob</strong>&#39;s <a href='https://twitter.com/mrdoob/status/1372491106886254597'>tweet</a>, It works really depending on your device/browser, my best score is 2905 with Firefox and ‚Äúreal‚Äù USB mouse¬†‚Ä¶</li><li><a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/8280%3Falways-show-multimedia%3Dtrue"><code>KT1RJ6Pb‚Ä¶/8280</code></a>: SVG that does an API call to better-call-dev, cf. <strong>@quasimondo</strong>&#39;s <a href='https://twitter.com/quasimondo/status/1372851040245084161?s=09'>tweet</a>.</li><li>There are of course formats that TZComet doesn't handle (yet), like <a href="https://en.wikipedia.org/wiki/GlTF">glTF</a> in <a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/6369%3Falways-show-multimedia%3Dtrue"><code>KT1RJ6Pb‚Ä¶/6369</code></a> or <a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/8424%3Falways-show-multimedia%3Dtrue"><code>KT1RJ6Pb‚Ä¶/8424</code></a>, the content-type <code>application/x-directory</code> used at <a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/12537%3Falways-show-multimedia%3Dtrue"><code>KT1RJ6Pb‚Ä¶/12537</code></a>.</li><li>Most links in this blog-post pass the option to show all the content by default, but there is definitely ‚Äúunsafe-or-unwanted-for-some-people‚Äù content: <a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/3974%3Falways-show-multimedia%3Dfalse"><code>KT1RJ6Pb‚Ä¶/3974</code></a>, <a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/6255%3Falways-show-multimedia%3Dfalse"><code>KT1RJ6Pb‚Ä¶/6255</code></a>, <a href="https://tzcomet.io/#/token/KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton/8385%3Falways-show-multimedia%3Dfalse"><code>KT1RJ6Pb‚Ä¶/8385</code></a>¬†‚Ä¶</li></ul></li><li>Very recently <a href="https://kalamint.io/">Kalamint</a> launched. The TZIP-016 metadata of their contract is itself <a href="https://tzcomet.io/#/explorer%3Fgo%3Dtrue%26explorer-input%3DKT1EpGgjQs73QfFJs9z7m1Mxm5MTnpC2tqse">invalid</a> but TZComet manages to display the tokens:<ul><li><a href="https://tzcomet.io/#/token/KT1EpGgjQs73QfFJs9z7m1Mxm5MTnpC2tqse/1%3Falways-show-multimedia%3Dtrue"><code>KT1EpGgj‚Ä¶/1</code></a> is a <em>zoomfie</em> of the founders (actually looks like google-meet).</li><li><a href='https://twitter.com/MaikeulMaikeul'><strong>@MaikeulMaikeul</strong></a>&#39;s collection starts at <a href="https://tzcomet.io/#/token/KT1EpGgjQs73QfFJs9z7m1Mxm5MTnpC2tqse/2%3Falways-show-multimedia%3Dtrue"><code>KT1EpGgj‚Ä¶/2</code></a> , then there are a few <a href='https://twitter.com/TezteesOfficial'>TezTees</a> cards at <a href="https://tzcomet.io/#/token/KT1EpGgjQs73QfFJs9z7m1Mxm5MTnpC2tqse/16%3Falways-show-multimedia%3Dtrue"><code>KT1EpGgj‚Ä¶/16</code></a>.</li></ul></li><li>For demo/testing I've originated an FA2.py with a few tokens:<ul><li><a href="https://tzcomet.io/#/token/KT1RHSiA9vt9A7B9DupLKQw2Re8SH3QdsLmN/0%3Falways-show-multimedia%3Dtrue"><code>KT1RHSiA‚Ä¶/0</code></a> is a very-normal fungible token without multimedia.</li><li><a href="https://tzcomet.io/#/token/KT1RHSiA9vt9A7B9DupLKQw2Re8SH3QdsLmN/1%3Falways-show-multimedia%3Dtrue"><code>KT1RHSiA‚Ä¶/1</code></a> and <a href="https://tzcomet.io/#/token/KT1RHSiA9vt9A7B9DupLKQw2Re8SH3QdsLmN/2%3Falways-show-multimedia%3Dtrue"><code>KT1RHSiA‚Ä¶/2</code></a> have something wrong about them.</li><li><a href="https://tzcomet.io/#/token/KT1RHSiA9vt9A7B9DupLKQw2Re8SH3QdsLmN/3%3Falways-show-multimedia%3Dtrue"><code>KT1RHSiA‚Ä¶/3</code></a> stores the multimedia on-chain (instead of, e.g., IPFS) ‚Äî <strong>please don&#39;t do that in production</strong> ‚Äî TZComet fetches the whole content from a tezos-node, guesses its format, and displays it.</li></ul></li></ul><p>This is still a 100% OCaml project using the stack described
<a href='https://discuss.ocaml.org/t/your-production-web-stack-in-2020/6691/10'>here</a>
and discussed
<a href='https://discuss.ocaml.org/t/jsoo-production-use-and-user-facing-applications-questions/7266/2?u=smondet'>here</a>.</p>
<p>There are <a href='https://github.com/tqtezos/TZComet/issues'>issues</a> to work on (and
many more to report).</p>
 <div class="remark-block" style="margin: 4em 0 4em 0"><p><span class="hundred-days-heading">After <a href='https://seb.mondet.org/blog/'>8 years</a> of <em>blograstination</em>, this is post #12 of my attempt at using the <a href="https://100daystooffload.com/"><code>#100DaysToOffload</code></a> completely unrealistic ‚Äúchallenge‚Äù to remind me to write stuff once in a while¬†‚Ä¶ Won&#39;t lie, keeping <a href='https://seb.mondet.org/b/'>this</a> up is hard¬†‚Ä¶</span></p></div></div></div></body></html>